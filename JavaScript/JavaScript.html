<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript基础 | korilo&#39;s blog</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/blog/assets/img/favicon.ico">
    <meta name="description" content="vuepress个人博客">
    <meta name="keywords" content="vuepress,前端学习">
    <meta name="author" content="陈大彬/korilo">
    <link rel="preload" href="/blog/assets/css/0.styles.52236521.css" as="style"><link rel="preload" href="/blog/assets/js/app.4037ec45.js" as="script"><link rel="preload" href="/blog/assets/js/2.31f4a6aa.js" as="script"><link rel="preload" href="/blog/assets/js/6.6e438ed6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.651bb2c0.js"><link rel="prefetch" href="/blog/assets/js/11.3248a481.js"><link rel="prefetch" href="/blog/assets/js/12.72e5a42a.js"><link rel="prefetch" href="/blog/assets/js/13.27c5f153.js"><link rel="prefetch" href="/blog/assets/js/14.d8e59edf.js"><link rel="prefetch" href="/blog/assets/js/15.91a7dbbf.js"><link rel="prefetch" href="/blog/assets/js/16.c0285480.js"><link rel="prefetch" href="/blog/assets/js/17.9e378fcb.js"><link rel="prefetch" href="/blog/assets/js/18.b4dc943a.js"><link rel="prefetch" href="/blog/assets/js/19.adc48df6.js"><link rel="prefetch" href="/blog/assets/js/20.64c93c1e.js"><link rel="prefetch" href="/blog/assets/js/3.cc30a7dc.js"><link rel="prefetch" href="/blog/assets/js/4.f9840601.js"><link rel="prefetch" href="/blog/assets/js/5.71474ebe.js"><link rel="prefetch" href="/blog/assets/js/7.40f02be7.js"><link rel="prefetch" href="/blog/assets/js/8.75e498aa.js"><link rel="prefetch" href="/blog/assets/js/9.d8138c03.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.52236521.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/assets/img/haerxibaoweier_3-pic.png" alt="korilo's blog" class="logo"> <span class="site-name can-hide">korilo's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Html" class="dropdown-title"><span class="title">Html</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/html/html.html" class="nav-link">
  html基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/html/页面架构.html" class="nav-link">
  页面架构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/css/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/blog/css3/" class="nav-link">
  css3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/JavaScript.html" class="nav-link router-link-exact-active router-link-active">
  JavaScript基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/ajax.html" class="nav-link">
  ajax
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/数据操作.html" class="nav-link">
  数据操作
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/es6.html" class="nav-link">
  ES6语法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue/vue.html" class="nav-link">
  vue基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展" class="dropdown-title"><span class="title">拓展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tools/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/ps切图.html" class="nav-link">
  Ps切图
</a></li></ul></div></div><div class="nav-item"><a href="/blog/about/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/korilo" target="_self" rel="" class="nav-link external">
  Github
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Html" class="dropdown-title"><span class="title">Html</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/html/html.html" class="nav-link">
  html基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/html/页面架构.html" class="nav-link">
  页面架构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Css" class="dropdown-title"><span class="title">Css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/css/less.html" class="nav-link">
  Less
</a></li><li class="dropdown-item"><!----> <a href="/blog/css3/" class="nav-link">
  css3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/JavaScript/JavaScript.html" class="nav-link router-link-exact-active router-link-active">
  JavaScript基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/ajax.html" class="nav-link">
  ajax
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/数据操作.html" class="nav-link">
  数据操作
</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/es6.html" class="nav-link">
  ES6语法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue/vue.html" class="nav-link">
  vue基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展" class="dropdown-title"><span class="title">拓展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tools/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-item"><!----> <a href="/blog/tools/ps切图.html" class="nav-link">
  Ps切图
</a></li></ul></div></div><div class="nav-item"><a href="/blog/about/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/korilo" target="_self" rel="" class="nav-link external">
  Github
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/JavaScript/JavaScript.html#_1-javascript基础" class="sidebar-link">1. JavaScript基础</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_2-javascript变量" class="sidebar-link">2. JavaScript变量</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_3-javascript数据类型" class="sidebar-link">3. JavaScript数据类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_3-javascript运算符" class="sidebar-link">3. JavaScript运算符</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_4-javascript流程控制" class="sidebar-link">4.JavaScript流程控制</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_5-javascript数组" class="sidebar-link">5. JavaScript数组</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_6-javascript函数" class="sidebar-link">6. JavaScript函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_7-javascript对象" class="sidebar-link">7.  JavaScript对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_8-dom-文档对象模型" class="sidebar-link">8. DOM 文档对象模型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/JavaScript/JavaScript.html#_9-bom-浏览器对象模型" class="sidebar-link">9. BOM 浏览器对象模型</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-javascript基础"><a href="#_1-javascript基础" class="header-anchor">#</a> 1. JavaScript基础</h2> <h4 id="_1-1-浏览器组成"><a href="#_1-1-浏览器组成" class="header-anchor">#</a> 1.1 浏览器组成</h4> <p>浏览器分两部分：渲染引擎和 JS 引擎</p> <ul><li>渲染引擎：用来解析HTML和CSS，俗称内核，比如chrome的blink，老版本的webkit</li> <li>JS 引擎：也称 JS 解释器。用来读取网页中的JavaScript代码，对其处理后运行，比如chrome的V8</li></ul> <h4 id="_1-2-javascript组成："><a href="#_1-2-javascript组成：" class="header-anchor">#</a> 1.2 JavaScript组成：</h4> <p>ECMAScript、DOM、BOM</p> <ul><li>ECMAScript（JavaScript语法）</li> <li>DOM（页面文档对象模型）</li> <li>BOM（浏览器对象模型）</li></ul> <hr> <ol><li>ECMAScript</li></ol> <p>ECMAScript是ECMA（原欧洲计算机制造商协会）进行标准化的一门编程语言，往往被称为JavaScript或JScript（微软），但实际是两者的组成。总之就是JavaScript的标准。</p> <ol start="2"><li>DOM</li></ol> <p>文档对象模型（Document Object Model，简称DOM），是W3C推荐的处理可拓展标记语言的标准编程接口，通过DOM提供的接口可以对页面上的各种元素进行操作（大小、位置、颜色等）</p> <ol start="3"><li>BOM</li></ol> <p>浏览器对象模型（Browser Object Model ，简称BOM），提供了独立于内容的、可以与浏览器窗口进行互动的对象结构。通过BOM可以操作浏览器窗口，比如弹出框、控制浏览器跳转、获取分辨率等</p> <hr> <h4 id="_1-3-javascript-书写位置"><a href="#_1-3-javascript-书写位置" class="header-anchor">#</a> 1.3 JavaScript 书写位置</h4> <ol><li><p>行内式js</p> <ul><li><p>js代码推荐使用单引号</p></li> <li><p>虽然可以写在标签属性中，但结构与行为耦合，不方便维护</p></li></ul></li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--在按钮的onclick属性中书写--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>按钮<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alert('卢本伟牛逼')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--在a标签的href属性里书写--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>javascript:alert('卢本伟牛逼');<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我一下<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li><p>内嵌式js</p> <ul><li><p>在head标签内书写，用script标签包含</p></li> <li><p>type属性可以省略，默认为JavaScript</p></li></ul></li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼'</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>外部js文件（推荐）
<ul><li>在head标签里用script标签添加src属性引用</li> <li>可以被多个页面同时使用</li> <li>script标签一旦用于引用外部文件，标签内书写的 js 代码都会忽略</li> <li>可以用另一个script标签来书写内部代码</li></ul></li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myjs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><hr> <h4 id="_1-4-javascript注释"><a href="#_1-4-javascript注释" class="header-anchor">#</a> 1.4 JavaScript注释</h4> <ol><li><p><strong>单行注释</strong></p> <p>快捷键 ctrl + /</p></li></ol> <div class="language-html extra-class"><pre class="language-html"><code>//单行注释
</code></pre></div><ol start="2"><li><p><strong>多行注释</strong></p> <p>快捷键 shift + alt + a</p></li></ol> <div class="language-html extra-class"><pre class="language-html"><code>/*	多行注释
	多行注释
*/
</code></pre></div><ul><li>作用
<ul><li>可用于简单的调试</li> <li>要养成注释的习惯，便与提高代码的可读性</li></ul></li></ul> <hr> <h4 id="_1-5-输入输出语句"><a href="#_1-5-输入输出语句" class="header-anchor">#</a> 1.5 输入输出语句</h4> <table><thead><tr><th>函数</th> <th>说明</th></tr></thead> <tbody><tr><td>alert()</td> <td>浏览器弹出警示框（需关闭了才能执行后面的代码）</td></tr> <tr><td>console.log()</td> <td>浏览器控制台打印输出信息</td></tr> <tr><td>document.write()</td> <td>在文档中输出信息</td></tr> <tr><td>prompt()</td> <td>浏览器弹出输入框，用户可以输入在文档里输出语句</td></tr></tbody></table> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// prompt  弹出输入框</span>
        <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼吗'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// alert   弹出警示框</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// console 控制台输出，给程序员看的</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>注意：prompt取的值是字符型的</strong></p> <hr> <h4 id="_1-6-垃圾回收机制"><a href="#_1-6-垃圾回收机制" class="header-anchor">#</a> 1.6 垃圾回收机制</h4> <p>JavaScript拥有自动的垃圾回收机制，会自动将垃圾对象从内存中销毁，不需要手动进行垃圾回收，由浏览器进行处理</p> <ul><li>处理机制： 标记清除法
<ul><li>垃圾对象回收</li> <li>垃圾对象：没有变量指向的对象</li> <li>将变量指向<code>null</code>，则原先指向的对象会被浏览器清理</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>		<span class="token comment">//设置成null后，过段时间浏览器会自动清理</span>
</code></pre></div><ul><li><p>内存分类：</p> <ul><li>栈区：存放变量</li> <li>堆区：存放对象</li></ul></li> <li><p>变量存储内容：</p> <ul><li>对象： 对象的地址值</li> <li>数据：数据值</li> <li>变量：根据变量内容的类型保存，上面两类</li></ul></li> <li><p>内存溢出：</p> <ul><li>一种程序运行出现的错误</li> <li>当程序运行需要的内存超过了剩余内存时，就出现内存溢出的错误</li></ul></li> <li><p>内存泄露</p> <ul><li>占用的内存没有及时释放</li> <li>内存泄露积累多了容易导致内存溢出</li> <li><strong>常见的内存泄露：</strong> <ul><li>意外的全局变量
<ul><li>在函数局部声明时忘了加 var，导致局部变量成为全局变量</li></ul></li> <li>没有及时清理的计时器或回调函数</li> <li>闭包</li></ul></li></ul></li></ul> <hr> <h4 id="_1-7-javascript单线程机制"><a href="#_1-7-javascript单线程机制" class="header-anchor">#</a> 1.7 JavaScript单线程机制</h4> <hr> <h4 id="_1-8-this指向与重定向"><a href="#_1-8-this指向与重定向" class="header-anchor">#</a> 1.8 this指向与重定向</h4> <ul><li><p>全局：</p> <ul><li><p>浏览器下：</p> <ul><li>this：window</li></ul> <p>Node下：</p> <p>​	this：</p></li></ul></li> <li><p>函数：</p> <ul><li>函数名( );
<ul><li>this： window</li> <li><strong>只要是通过这个方式调用的函数，函数里的this都是window</strong></li></ul></li> <li>uese strict
<ul><li>this： undefined</li></ul></li></ul></li> <li><p>对象：</p> <ul><li>{ }
<ul><li>对象名.方法名();
<ul><li><strong>只要是这样调用的函数，函数里面的this都是这个对象</strong></li></ul></li></ul></li></ul></li> <li><p>大坑：</p> <ul><li>this指向看什么对函数进行调用</li> <li>看最终是如何调用的函数，就能够知道this指向是谁</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token function-variable function">fn1</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         	<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        		<span class="token keyword">var</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            		console<span class="token punctuation">.</span><span class="token function">lot</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        		<span class="token punctuation">}</span><span class="token punctuation">;</span>
        		<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    		<span class="token punctuation">}</span>
        	<span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	 <span class="token punctuation">}</span><span class="token comment">//fn2</span>
    <span class="token punctuation">}</span><span class="token comment">//a</span>

a<span class="token punctuation">.</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//a对象</span>
a<span class="token punctuation">.</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//window   window</span>
</code></pre></div><ul><li><p>this重定向</p> <ul><li><p>想要使<code>函数名( );</code>方式调用时，函数里的this不是window而是包含该函数的对象</p></li> <li><p>解决方法：</p> <ul><li>1）let变量取代this（es5推荐）
<ul><li>在外层就用一个变量保存this的地址（a对象）</li> <li>在里层的that就会按照作用域链在外层找到that来操作this（a对象）</li> <li>实际上里层函数里的this还是window</li></ul></li> <li>2）箭头函数（es6）
<ul><li>利用嵌套函数使内层的 this = 外层函数的 this</li> <li>一般用于定时器</li></ul></li> <li>3）bind方法
<ul><li>让匿名函数绑定外层的this</li></ul></li></ul></li></ul></li></ul> <hr> <h4 id="_1-9-call-、bind-、apply-的应用"><a href="#_1-9-call-、bind-、apply-的应用" class="header-anchor">#</a> 1.9 call()、bind()、apply()的应用</h4> <ul><li><p>call( )方法</p> <ul><li>Function原型对象的方法</li> <li>语法：
<ul><li><code>函数.call(对象，函数形参...)</code></li></ul></li> <li>作用：
<ul><li>让一个指定对象强制调用指定函数，并传参</li></ul></li> <li>适用函数：
<ul><li>需要传参的函数</li></ul></li> <li>应用：
<ul><li>this重定向</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//让this强制调用show函数,</span>
        					<span class="token comment">//结果就是改变了show函数里的this</span>
        					<span class="token comment">//从window变为了外层的a对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <hr> <ul><li>bind( )方法
<ul><li>Function原型对象的方法</li> <li>语法：<code>函数.bind(对象)</code></li> <li>作用：
<ul><li>让一个指定对象强制作为指定函数的调用对象</li> <li>此时函数没执行，只是进行了绑定</li></ul></li> <li>适用函数：
<ul><li>不需要传参的函数</li></ul></li> <li>应用：
<ul><li>this重定向</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">show</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//让this强制作为show函数的调用对象，并执行,</span>
        					<span class="token comment">//结果就是改变了show函数里的this</span>
        					<span class="token comment">//从window变为了外层的a对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <ul><li>apply( )方法
<ul><li>Function原型对象的方法</li> <li>语法：
<ul><li><code>函数.apply(对象，数组)</code></li> <li>数组里装的是函数的形参</li> <li><code>函数.apply(对象，[形参1,形参2...]) === 函数.call(对象，形参1,形参2...)</code></li></ul></li> <li>作用：
<ul><li>让一个指定对象强制调用指定函数，并传参，参数在数组里</li></ul></li> <li>适用函数：
<ul><li>一些无法以数组为参数的函数
<ul><li>如：Math.MAX.apply(null, [0,15,26,32,15] )</li></ul></li></ul></li> <li>应用：
<ul><li>this重定向</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">show</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//让this强制调用show函数,没有传参</span>
        					<span class="token comment">//结果就是改变了show函数里的this</span>
        					<span class="token comment">//从window变为了外层的a对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-10-对象的建立方法"><a href="#_1-10-对象的建立方法" class="header-anchor">#</a> 1.10 对象的建立方法</h4> <ul><li>单体模式（字面量创建）</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span>  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'lubenwei'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>原型模式
<ul><li>ES5推荐方法</li> <li>属性放构造函数里，方法放原型对象上</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lubenwei<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//卢本伟</span>
</code></pre></div><ul><li>类模式
<ul><li>ES6推荐方法</li> <li>有点类似构造函数的写法，但更方便与继承</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lubenwei<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	<span class="token comment">//卢本伟</span>
</code></pre></div><h4 id="_1-11-继承"><a href="#_1-11-继承" class="header-anchor">#</a> 1.11 继承</h4> <ul><li><p>Object.create()</p> <ul><li>语法：<code>var 子类对象名 = Object.create(父类对象名);</code></li> <li>作用：子类对象继承父类对象的属性和方法</li> <li>适用方式：单体模式</li></ul></li> <li><p>extends</p> <ul><li>语法：<code>class 子类构造函数名 extends 父类构造函数名{}</code></li> <li>继承语句：<code>super(形参1...)</code></li> <li>调用父类方法：<code>super.方法名</code></li> <li>作用：子类构造函数继承父类构造函数的方法和属性语句</li> <li>适用方式：类模式</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//单体模式</span>
<span class="token keyword">var</span> teacher <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'lubenwei'</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">;</span>
    <span class="token function-variable function">showName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> student <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>teacher<span class="token punctuation">)</span><span class="token punctuation">;</span>
student<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'pdd'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//pdd</span>

<span class="token comment">//类模式</span>
<span class="token keyword">class</span> <span class="token class-name">teacher</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">student</span> <span class="token keyword">extends</span> <span class="token class-name">teacher</span><span class="token punctuation">{</span>	<span class="token comment">//继承父类构造函数</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>job</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//继承父类构造函数处理形参的方法</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//调用父类的方法</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>showName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">student</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'主播'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span><span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//卢本伟18主播</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//卢本伟</span>
</code></pre></div><hr> <h2 id="_2-javascript变量"><a href="#_2-javascript变量" class="header-anchor">#</a> 2. JavaScript变量</h2> <h4 id="_2-1-变量的声明和赋值"><a href="#_2-1-变量的声明和赋值" class="header-anchor">#</a> 2.1 变量的声明和赋值</h4> <p>变量通俗点说就是存放数据的盒子，本质上是在内存中申请一个空间来存放数据，JavaScript底层用unicode保存标识符，所以<strong>理论上可以用中文作变量名</strong>（不建议）</p> <ul><li><strong>关键字</strong>：var 等</li> <li><strong>标识符</strong>： 变量、函数的命名</li> <li><strong>操作符</strong>：运算符</li></ul> <p><strong>变量使用时要声明变量和赋值，称为变量的初始化</strong></p> <ul><li>var ( variable ) 变量</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>var age = 18;
</code></pre></div><p>通过变量存储收集的信息：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> myname <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'请输入你的名字'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>变量的更新</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> myname <span class="token operator">=</span> <span class="token string">'卢本伟'</span><span class="token punctuation">;</span>
myname <span class="token operator">=</span> <span class="token string">'周杰伦'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>声明不赋值输出结果为 <strong>undefined</strong></p></li> <li><p>不声明赋值默认为 <strong>全局变量</strong></p></li> <li><p>声明多个变量：</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> myname <span class="token operator">=</span> <span class="token string">'卢本伟'</span><span class="token punctuation">,</span>
    adress <span class="token operator">=</span> <span class="token string">'王者峡谷'</span><span class="token punctuation">,</span>
    slogan <span class="token operator">=</span> <span class="token string">'卢本伟牛逼'</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h4 id="_2-2-变量名的书写规范"><a href="#_2-2-变量名的书写规范" class="header-anchor">#</a> 2.2 变量名的书写规范</h4> <ul><li><p>由字母( A - z )、数字( 0 - 9 )、下划线( _ )、美元符号( $ )组成</p></li> <li><p>严格区分大小写</p></li> <li><p>不能数字开头</p></li> <li><p>不能是关键字和保留字，name等</p></li> <li><p>变量名必须有意义</p></li> <li><p>遵循 <strong>驼峰命名法</strong> ，首字母小写，后面单词的首字母需要大写</p></li> <li><p>严格模式：</p> <ul><li>在开头加上<code>&quot;use strict&quot;</code></li> <li>未定义的变量将无法进行使用，在工作中一定要加（自己）</li></ul></li></ul> <h2 id="_3-javascript数据类型"><a href="#_3-javascript数据类型" class="header-anchor">#</a> 3. JavaScript数据类型</h2> <ul><li>JavaScript数据类型的特点：
<ul><li><p>JavaScript是弱类型语言（动态语言）</p></li> <li><p>其变量的数据类型是在程序运行过程中根据其对应的值来确定的</p></li> <li><p>JavaScript拥有动态类型，同时也意味相同的变量可用作不同的类型</p></li></ul></li></ul> <hr> <ul><li>数据类型的分类
<ul><li>JavaScript将数据类型分为两类（5种）：
<ul><li>简单（基本）数据类型：Number、String、Boolean、Undefined</li> <li>对象（引用）数据类型：Object
<ul><li>函数function：特别的对象，存放代码（<strong>可以执行，后面加括号</strong>）</li> <li>数组arry：特别的对象，<strong>数据有序</strong>，以下标访问值</li> <li><strong>null</strong>，特殊的对象，‘’空对象‘’，当把对象赋值为null，则原对象成为垃圾对象</li></ul></li></ul></li></ul></li></ul> <hr> <ul><li>typeof运算符：
<ul><li>可以检测元素的数据类型：</li></ul></li></ul> <h4 id="_3-1-number-数值型"><a href="#_3-1-number-数值型" class="header-anchor">#</a> 3.1 'number' 数值型</h4> <ul><li>数值型的特殊值：
<ul><li><code>Infinity</code>：无穷大，大于最大值，可以为负值</li> <li><code>NaN</code>：not a number</li> <li><code>Number.MAX_VALUE</code>：最大值（超过最大值的值为Infinity）</li> <li><code>Number.MIN_VALUE</code>：最小值（0以上）</li></ul></li> <li><strong>用typeof 返回 Infinity 和 NaN 都是 <code>'number'</code></strong></li></ul> <hr> <ul><li><p>NaN：</p> <ul><li><p>出现场合：</p> <ul><li>数据类型转换（运算时也有数据类型转换）</li> <li>得到的结果不是数字或非正常的数字</li></ul></li> <li><p><code>isNaN( )</code>函数：</p> <ul><li><p>window对象的方法，用于检测数据是否为NaN</p></li> <li><p>返回 true 或者 false</p></li> <li><p>注意：</p> <ul><li>ES5 的 isNaN( ) 并不可靠，ES6才修复问题</li> <li>有强制类型转换，会将字符串型的数字转换成数值型</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//false</span>
</code></pre></div></li></ul></li> <li><p>NaN特点:</p> <ul><li><strong>与谁都不相等，包括它本身</strong></li> <li>typeof 运算符返回值是 <code>‘number'</code></li></ul></li> <li><p>检测 NaN 的方法：</p> <ul><li>1）isNaN( )：ES6</li> <li>2）利用 NaN 的特点：与谁都不相等，包括它本身</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num2 <span class="token operator">=</span> <span class="token string">'10'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1 <span class="token operator">!=</span> num1<span class="token punctuation">)</span><span class="token punctuation">;</span> 	<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num2 <span class="token operator">!=</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//false</span>
</code></pre></div></li></ul></li></ul> <hr> <h4 id="_3-2-string-字符串型"><a href="#_3-2-string-字符串型" class="header-anchor">#</a> 3.2 'string' 字符串型</h4> <ul><li><p>字符串嵌套引号：</p> <ul><li>若字符串里有引号，则在整个字符串外用单引号括起来</li> <li>采用<strong>外单内双</strong>的写法</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'卢本伟&quot;牛逼&quot;'</span>
</code></pre></div></li> <li><p>转义字符：</p></li></ul> <table><thead><tr><th>转义符</th> <th>解释</th></tr></thead> <tbody><tr><td>\n</td> <td>换行 newline</td></tr> <tr><td>\t</td> <td>缩进 tab</td></tr> <tr><td>\b</td> <td>空格 blank</td></tr> <tr><td>\</td> <td>转义符</td></tr></tbody></table> <hr> <p><strong>3. 布尔型</strong></p> <ul><li>布尔型和数字型相加时，true = 1, false = 0 ;</li> <li>typeof 返回 boolean</li></ul> <hr> <ol start="4"><li>undefined 和 null
<ul><li>区别:
<ul><li>undefined：声明未定义</li> <li>null：定义了但值为null</li></ul></li> <li>使用null:
<ul><li>初始声明时表示将要赋值为对象</li> <li>处理垃圾对象时，将变量赋值为null</li></ul></li></ul></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">// 输出NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">'卢本伟'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//输出undefined卢本伟</span>
</code></pre></div><p>空值与undefined类似，与数字型拼接有区别</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">// 输出8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">'卢本伟'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//输出null卢本伟</span>
</code></pre></div><hr> <h5 id="_2）相关方法、属性和运算符"><a href="#_2）相关方法、属性和运算符" class="header-anchor">#</a> 2）相关方法、属性和运算符</h5> <ol><li></li></ol> <ol start="2"><li><code>.length</code>属性</li></ol> <ul><li><p>可以用于计算字符串字符、数组元素的个数</p> <ul><li>字符串使用时底层是将其<strong>转换成字符串数组</strong>，再调用其<code>length</code>属性，此过程涉及到变量到数组的转换</li></ul></li> <li><p>注意：</p> <ul><li>伪数组的length属性是需要计算才能得到的，不是固定值</li> <li>当写入for循环时，若没有用变量存储length属性，将多次执行该计算</li> <li>解决方法： 在循环语句内对length属性声明并赋值</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> btn<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    函数体
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ol start="3"><li><code>+</code> 字符串拼接</li></ol> <ul><li>任何值和字符串相加都会先转换成字符串，再拼接</li> <li>拼接变量可以方便修改数据，通过引引加加实现</li> <li>巧用拼接可以优化代码结构，如<strong>字符串换行</strong></li> <li>拼接<code>'123’</code>:
<ul><li>对象：<code>[object object]123</code></li> <li>函数：<code>function(){}123</code></li> <li>数组：1,2,3123</li> <li>undefined、number、string、boolean：直接拼接</li> <li>null：拼接字符串时直接拼接，<strong>拼接数字型字符串时，结果为那个数字型字符串</strong></li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token operator">+</span><span class="token string">'牛逼'</span><span class="token operator">+</span><span class="token number">666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出结果为 '卢本伟牛逼666'</span>
</code></pre></div><hr> <ol start="4"><li><code>typeof</code>运算符
<ul><li>可以用 typeof 运算符判断的数据类型：
<ul><li><code>‘number’</code>、<code>‘string’</code>、<code>'boolean'</code>、<code>undefined</code>、<code>function</code></li> <li><code>null</code> 和<code>arry</code>返回的是 <code>'object'</code></li></ul></li> <li>可以用全等 <code>===</code> 判断的数据类型：
<ul><li><code>undefined</code>、<code>null</code></li></ul></li> <li>注意：
<ul><li>typeof 运算符返回的是 <strong>字符串类型</strong> 的数据</li> <li>返回的数据类型都是 <strong>小写</strong></li></ul></li></ul></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num <span class="token operator">===</span> ‘number’<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> timer<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//'object'</span>
</code></pre></div><hr> <h4 id="_2-4-数据类型转换"><a href="#_2-4-数据类型转换" class="header-anchor">#</a> 2.4 数据类型转换</h4> <p>使用表单、prompt获取的数据默认是字符串类型的，此时不能直接进行简单的加法运算，需要转换变量的数据类型。</p> <p>通常有三种转换：</p> <ul><li>转换为字符串型</li> <li>转换为数值型</li> <li>转换为布尔型</li></ul> <hr> <h5 id="_1）转换为字符串"><a href="#_1）转换为字符串" class="header-anchor">#</a> 1）转换为字符串</h5> <table><thead><tr><th>方式</th> <th>说明</th> <th>案例</th></tr></thead> <tbody><tr><td>.toString()</td> <td>转成字符串</td> <td>var num = 1; alert( num.toString() );</td></tr> <tr><td>String()</td> <td>强制转换字符串</td> <td>var num = 1; alert(String(num));</td></tr> <tr><td><strong>加号拼接字符串</strong></td> <td>和字符串拼接的结果都是字符串</td> <td>var num = 1; alert(num + '我是字符串');</td></tr></tbody></table> <ul><li><strong>注意：</strong> <ul><li>null 和 undefined 没有 .toString( ) 方法</li> <li>String( ) 函数可以强制类型转换 undefined 和 null</li> <li>String( ) 函数转换undefined和null时直接转换，其他调用.toString( )方法</li></ul></li></ul> <hr> <h5 id="_2）转换为数值型"><a href="#_2）转换为数值型" class="header-anchor">#</a> 2）转换为数值型</h5> <table><thead><tr><th>方法</th> <th>说明</th> <th>案例</th></tr></thead> <tbody><tr><td>parseInt(数字开头的string)</td> <td>转换为整型</td> <td>parseInt('78')</td></tr> <tr><td>parseFloat(数字开头的string)</td> <td>转换为浮点型</td> <td>parseFloat('78.2');</td></tr> <tr><td>Number()</td> <td>强制转换数值型</td> <td>Number('12')</td></tr> <tr><td>js隐式转换( - * / )</td> <td>利用算术运算符转换为数值型</td> <td>'120' - '110'      '1' - 0</td></tr></tbody></table> <ul><li><strong>注意：</strong> <ul><li>parseInt( )函数可以传递第二个参数，表示指定数字的进制</li> <li>null 转换为数值型是0</li> <li>undefined 转换为数值型是 NaN</li> <li>任何类型与 NaN 运算都为 NaN</li> <li><strong>最简单的转换方法</strong>：  前面放个 +号</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token operator">+</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>		<span class="token comment">//NaN</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token operator">+</span> <span class="token keyword">null</span><span class="token punctuation">;</span>			<span class="token comment">//0</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token operator">+</span><span class="token string">'str'</span><span class="token punctuation">;</span>			<span class="token comment">//NaN</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token operator">+</span><span class="token string">'123'</span><span class="token punctuation">;</span>			<span class="token comment">//123</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">;</span>			<span class="token comment">//1</span>
</code></pre></div><hr> <h5 id="_3）转换为布尔型"><a href="#_3）转换为布尔型" class="header-anchor">#</a> 3）转换为布尔型</h5> <table><thead><tr><th>方式</th> <th>说明</th> <th>案例</th></tr></thead> <tbody><tr><td>Boolean()</td> <td>强制转换布尔型</td> <td>Boolean('true');</td></tr></tbody></table> <ul><li><p>注意：</p> <ul><li><p>代表空、否定的值会转换为false, 如 ''、0 、NaN、null、undefined</p></li> <li><p>其余值都会转换为true</p></li> <li><p>快捷转换布尔值： !!其他类型</p></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
</code></pre></div><hr> <h2 id="_3-javascript运算符"><a href="#_3-javascript运算符" class="header-anchor">#</a> 3. JavaScript运算符</h2> <p>运算符（操作符）operator</p> <h4 id="_3-1-算术运算符"><a href="#_3-1-算术运算符" class="header-anchor">#</a> 3.1 算术运算符</h4> <table><thead><tr><th>运算符</th> <th>描述</th></tr></thead> <tbody><tr><td>+</td> <td>加</td></tr> <tr><td>-</td> <td>减</td></tr> <tr><td>*</td> <td>乘</td></tr> <tr><td>/</td> <td>除</td></tr> <tr><td>%</td> <td>取余（模）</td></tr></tbody></table> <p>算术运算符有优先级顺序，先乘除后加减，有括号先算括号</p> <hr> <ul><li><strong>浮点数精度计算问题：</strong></li></ul> <p>浮点数值的最高精度是17位小数，但在进行算数计算时其精度远不如整数</p> <p>所以 <strong>不能直接比较浮点数是否相等</strong>。</p> <hr> <ul><li><strong>取余运算符用途</strong> <ul><li>可以用来判断能否被整除</li></ul></li></ul> <hr> <h4 id="_3-2-递增递减运算符"><a href="#_3-2-递增递减运算符" class="header-anchor">#</a> 3.2 递增递减运算符</h4> <table><thead><tr><th>运算符</th> <th>描述</th></tr></thead> <tbody><tr><td>++a</td> <td>先递增，后返回值</td></tr> <tr><td>a++</td> <td>先返回值，后递增</td></tr> <tr><td>--a</td> <td>先递减，后返回值</td></tr> <tr><td>a--</td> <td>先返回值，后递减</td></tr></tbody></table> <hr> <h4 id="_3-3-比较运算符"><a href="#_3-3-比较运算符" class="header-anchor">#</a> 3.3 比较运算符</h4> <table><thead><tr><th>描述</th> <th>说明</th></tr></thead> <tbody><tr><td>&gt;</td> <td>大于号</td></tr> <tr><td>&lt;</td> <td>小于号</td></tr> <tr><td>&gt;=</td> <td>大于等于</td></tr> <tr><td>&lt;=</td> <td>小于等于</td></tr> <tr><td>==</td> <td>判断等号（有隐式转换），会把字符串类型转换为数值型</td></tr> <tr><td>!=</td> <td>不等号</td></tr> <tr><td>===  !==</td> <td>全等（要求数值和数据类型都相等，不会自动类型转换）</td></tr></tbody></table> <ul><li><strong>注意：</strong> <ul><li>任何值和 NaN 比较都是false ，也不相等于任何值（包括自己）</li> <li><strong>两边都是字符串时比较的是unicode编码</strong>（ASCII）</li> <li>比较字符编码时是 <strong>一个一个进行比较</strong></li> <li>比较中文时没有意义，英文可以排序</li> <li>比较 两个字符串 数字时可能会出现错误（一定要转型）</li> <li>无法用==检查值为NaN，只能通过isNaN()函数来确定</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bbs'</span> <span class="token operator">&lt;=</span> <span class="token string">'b'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'11'</span> <span class="token operator">&lt;</span> <span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//false</span>
<span class="token comment">//大部分情况时转换成数值型</span>
</code></pre></div><hr> <h4 id="_3-4-逻辑运算符"><a href="#_3-4-逻辑运算符" class="header-anchor">#</a> 3.4 逻辑运算符</h4> <table><thead><tr><th>运算符</th> <th>描述</th></tr></thead> <tbody><tr><td>&amp;&amp;</td> <td>逻辑与</td></tr> <tr><td>||</td> <td>逻辑或</td></tr> <tr><td>！</td> <td>逻辑非/取反</td></tr></tbody></table> <hr> <ul><li>短路运算**</li></ul> <p>当有多个表达式（值）时，左边的表达式可以确定结果时，就不再继续运算右边的表达式的值</p> <ol><li><strong>逻辑与</strong> <ul><li>语法：表达式1 &amp;&amp; 表达式2</li> <li>如果第一个表达式的值为真，则返回表达式2</li> <li>如果第一个表达式的值为假，则返回表达式1</li></ul></li></ol> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span> <span class="token operator">&amp;&amp;</span> <span class="token number">234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//234</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//0</span>
</code></pre></div><ol start="2"><li>逻辑或
<ul><li>语法：表达式1 || 表达式2</li> <li>如果第一个表达式的值为真，则返回表达式1</li> <li>如果第二个表达式的值为假，则犯规表达式2</li></ul></li></ol> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span> <span class="token operator">&amp;&amp;</span> <span class="token number">234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//123</span>
</code></pre></div><hr> <ul><li>取反
<ul><li>对非布尔值进行取反，先转换成布尔值，再取反</li> <li>快捷转换布尔值： !!其他类型</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
</code></pre></div><h4 id="_3-5-赋值运算符"><a href="#_3-5-赋值运算符" class="header-anchor">#</a> 3.5 赋值运算符</h4> <table><thead><tr><th>运算符</th> <th>描述</th></tr></thead> <tbody><tr><td>=</td> <td>直接赋值</td></tr> <tr><td>+=、 -=</td> <td>自身加、减一个数再赋值</td></tr> <tr><td>*=、/=、%=</td> <td>自身乘、除、取余后再赋值</td></tr></tbody></table> <p>3.6 运算符优先级</p> <table><thead><tr><th>优先级</th> <th>运算符</th> <th>顺序</th></tr></thead> <tbody><tr><td>1</td> <td>小括号</td> <td>（）</td></tr> <tr><td>2</td> <td>一元运算符</td> <td>++、--、！</td></tr> <tr><td>3</td> <td>算数运算符</td> <td>先 * / % 后 + -</td></tr> <tr><td>4</td> <td>关系运算符</td> <td>''&gt;''  ''&gt;=''  ''&lt;''  ''&lt;=''</td></tr> <tr><td>5</td> <td>相等运算符</td> <td>==  != === !==</td></tr> <tr><td>6</td> <td>逻辑运算符</td> <td>先&amp;&amp; 后||</td></tr> <tr><td>7</td> <td>赋值运算符</td> <td>=</td></tr> <tr><td>8</td> <td>逗号运算符</td> <td>,</td></tr></tbody></table> <p>n元运算符：需要n个数参与运算的运算符</p> <h2 id="_4-javascript流程控制"><a href="#_4-javascript流程控制" class="header-anchor">#</a> 4.JavaScript流程控制</h2> <p>流程控制即控制代码的执行顺序</p> <p>流程控制主要有三种结构：顺序结构、分支结构、和循环结构</p> <p>平时书写的就是顺序结构，按照书写顺序执行</p> <h4 id="_4-1-分支结构"><a href="#_4-1-分支结构" class="header-anchor">#</a> 4.1 分支结构</h4> <ul><li>一般情况下 if 和 switch 可以互相替换</li> <li>switch通常处理确定值，if通常处理范围判断</li> <li>分支较少时，if语句执行效率较高</li> <li>分支多时，switch效率高且结构清晰</li></ul> <h5 id="_1）if-语句"><a href="#_1）if-语句" class="header-anchor">#</a> 1）if 语句</h5> <p>如果条件表达式为真，则执行大括号内的语句</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>条件表达式<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//执行语句1; </span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>条件表达式<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//执行语句2;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token comment">//执行语句3;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h5 id="_2）三元运算符（-：）"><a href="#_2）三元运算符（-：）" class="header-anchor">#</a> 2）三元运算符（? ：）</h5> <p>将返回值赋予一个变量，方便操作</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> 条件表达式<span class="token operator">?</span> 表达式<span class="token number">1</span> <span class="token operator">:</span> 表达式<span class="token number">2</span> <span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_3）switch-语句"><a href="#_3）switch-语句" class="header-anchor">#</a> 3）switch 语句</h5> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> 变量 <span class="token operator">=</span> 表达式<span class="token punctuation">;</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>变量<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> value1<span class="token operator">:</span>
        <span class="token comment">//执行语句1;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> value2<span class="token operator">:</span>
        <span class="token comment">//执行语句2;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token comment">//默认执行语句，相当于if语句的else;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>**注意： **</p> <ul><li>case匹配的值必须数值和数据类型都相等</li> <li>语句从匹配的case开始执行</li> <li>没有break语句会执行下一个case语句</li></ul> <h4 id="_4-2-循环结构"><a href="#_4-2-循环结构" class="header-anchor">#</a> 4.2 循环结构</h4> <p>目的：重复语句</p> <p>重复执行的语句叫做循环体</p> <h5 id="_1）for-循环"><a href="#_1）for-循环" class="header-anchor">#</a> 1）for 循环</h5> <ul><li>初始化变量：声明普通变量，常作为计数器i</li> <li>条件表达式：决定终止条件</li> <li>操作表达式：每次循环最后执行的代码，常用于对变量进行更新</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span>初始化变量<span class="token punctuation">;</span>条件表达式<span class="token punctuation">;</span>操作表达式<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//循环体</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <ul><li>追加字符串**</li></ul> <p>实现一行打印五个星星</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    str <span class="token operator">+=</span><span class="token string">'⭐'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_2）while循环"><a href="#_2）while循环" class="header-anchor">#</a> 2）while循环</h5> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>条件表达式<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">//循环体</span>
     <span class="token comment">//操作表达式</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3）do-while循环"><a href="#_3）do-while循环" class="header-anchor">#</a> 3）do while循环</h5> <p>先做一次再判断循环</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">do</span><span class="token punctuation">{</span>
    <span class="token comment">//循环体</span>
    <span class="token comment">//操作表达式</span>
<span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>条件表达式<span class="token punctuation">)</span>
</code></pre></div><h5 id="_4）continue关键字"><a href="#_4）continue关键字" class="header-anchor">#</a> 4）continue关键字</h5> <p>continue关键字用于跳出本次循环，继续下一次循环</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//求1~100之间，除了能被7整除的整数和</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>		
</code></pre></div><h5 id="_5）break关键字"><a href="#_5）break关键字" class="header-anchor">#</a> 5）break关键字</h5> <p>break关键字用于退出整个循环</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//求整数和不超过100的那个数</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sum <span class="token operator">&gt;</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       sum <span class="token operator">-=</span> i<span class="token punctuation">;</span>
       i<span class="token operator">--</span><span class="token punctuation">;</span>
       <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'总数为'</span> <span class="token operator">+</span> sum <span class="token operator">+</span><span class="token string">', 最大整数是'</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_6）return关键字"><a href="#_6）return关键字" class="header-anchor">#</a> 6）return关键字</h5> <p>return默认返回undefined，当前作用域return之后的表达式不会再运行</p> <h2 id="_5-javascript数组"><a href="#_5-javascript数组" class="header-anchor">#</a> 5. JavaScript数组</h2> <p>变量只能存储一个值，要存储多个值可以使用数组 arry</p> <h4 id="_5-1数组的初始化"><a href="#_5-1数组的初始化" class="header-anchor">#</a> 5.1数组的初始化</h4> <ul><li>利用new创建数组</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//创建一个空数组</span>
</code></pre></div><ul><li>利用数组字面创建数组</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> 数组名 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>	<span class="token comment">//创建了一个空数组</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'pink'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>数组可以存储任何类型的数组元素</p> <hr> <h4 id="_5-2-数组的索引"><a href="#_5-2-数组的索引" class="header-anchor">#</a> 5.2 数组的索引</h4> <p>根据索引号（index）来访问数组元素，第一个为0</p> <p>格式： 数组名[索引号]</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1</span>
</code></pre></div><ul><li><strong>数组遍历</strong> <ul><li>一般使用for循环进行遍历</li> <li>JavaScript还提供了 <strong>forEach()</strong> 方法来遍历</li> <li>forEach()方法只有  <strong>IE8以上的浏览器支持</strong></li> <li>forEach()方法需要传递一个参数：回调函数</li> <li>回调函数：由我们创建但不由我们调用的函数</li> <li>浏览器会在回调函数中传递三个参数：<strong>值、索引、当前数组对象</strong></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>数组长度</li></ul> <p>用 .length属性可以动态检测数组内元素个数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span> <span class="token string">'pdd'</span><span class="token punctuation">,</span> <span class="token string">'骚男'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-修改数组元素"><a href="#_5-3-修改数组元素" class="header-anchor">#</a> 5.3 修改数组元素</h4> <p>可以通过修改length长度以及索引号修改数组元素</p> <ul><li>length属性是可读写的</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//3</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//['red','green','blue'，empty × 2]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//undefined</span>
</code></pre></div><ul><li>修改索引号（追加）</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'pink'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//['red','green','blue','pink']</span>
</code></pre></div><p>不能直接给数组名赋值，否则会覆盖掉以前的数据</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//black</span>
</code></pre></div><ul><li><strong>插入新数组</strong></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	newarr<span class="token punctuation">[</span>newarr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-4-冒泡排序"><a href="#_5-4-冒泡排序" class="header-anchor">#</a> 5.4 冒泡排序</h4> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> i <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token keyword">var</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_6-javascript函数"><a href="#_6-javascript函数" class="header-anchor">#</a> 6. JavaScript函数</h2> <p>函数就是 <strong>封装</strong> 了一段可以被重复调用的代码块</p> <p><strong>目的</strong>：让大量代码重复使用</p> <h4 id="_6-1-函数的声明、调用和返回值"><a href="#_6-1-函数的声明、调用和返回值" class="header-anchor">#</a> 6.1 函数的声明、调用和返回值</h4> <ul><li>特点：
<ul><li>关键字：function</li> <li>函数是做某件事情，<strong>函数名一般是动词</strong></li> <li>函数不调用就不会执行</li></ul></li> <li>返回值：
<ul><li><strong>return之后的函数不会执行</strong></li> <li>return只返回最后一个值</li> <li>若函数没有return，则返回undefined</li></ul></li> <li>调用：
<ul><li>加（）：直接调用</li> <li>通过对象调用方法</li> <li>new ：构造函数</li> <li><strong>强制用对象调用</strong>：<code>函数名.call(对象,形参)</code> <ul><li>可以临时让某函数成为一个对象的方法并进行调用</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>		<span class="token comment">//函数声明1</span>
    <span class="token comment">//函数体</span>
    <span class="token keyword">return</span> 需要返回的结果<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//函数调用</span>
</code></pre></div><hr> <h5 id="_1）匿名函数"><a href="#_1）匿名函数" class="header-anchor">#</a> 1）匿名函数</h5> <ul><li>特点
<ul><li>不声明函数的名字</li> <li>只在调用时执行，一般只执行一次，可节省空间，提高性能</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">变量名</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//匿名函数，没有函数名，只有变量名</span>
    <span class="token comment">//函数体</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">变量名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_2）回调函数"><a href="#_2）回调函数" class="header-anchor">#</a> 2）回调函数</h5> <ul><li>特点：
<ul><li>自己定义的，自己没有调用，但最终执行了</li> <li>自己定义，当触发行为时进行回调</li></ul></li> <li>常见的回调函数：
<ul><li>DOM事件回调函数</li> <li>定时器回调函数</li> <li>ajax请求回调函数</li> <li>生命周期回调函数</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//DOM事件回调</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_3）立即执行函数（iife）"><a href="#_3）立即执行函数（iife）" class="header-anchor">#</a> 3）立即执行函数（IIFE）</h5> <ul><li>immediately-invoked function expression（匿名函数自执行）</li> <li>好处：
<ul><li>比普通回调函数更节省空间，少了变量的空间</li> <li>可以在里面声明一次性的变量，不占用全局命名空间</li></ul></li> <li>用处：
<ul><li>处理变量污染</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//在匿名函数前加一个括号可以避免报错，从而进行一次性函数的执行</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我是一个匿名函数'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					
</code></pre></div><hr> <h4 id="_6-2-函数的参数"><a href="#_6-2-函数的参数" class="header-anchor">#</a> 6.2 函数的参数</h4> <h5 id="_1）形参和实参"><a href="#_1）形参和实参" class="header-anchor">#</a> 1）形参和实参</h5> <ul><li><strong>形参</strong>：形式上的参数，写在声明函数时，可以看做是不用声明的变量</li> <li><strong>实参</strong>：实际传递的参数，在调用函数时使用，实参可以是对象和函数</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">函数名</span><span class="token punctuation">(</span><span class="token parameter">形参<span class="token number">1</span><span class="token punctuation">,</span> 形参<span class="token number">2</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>		<span class="token comment">//形参相当与一个变量</span>
    <span class="token comment">//函数体</span>
<span class="token punctuation">}</span>
<span class="token function">函数名</span><span class="token punctuation">(</span>实参<span class="token number">1</span> <span class="token punctuation">,</span> 实参<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>注意：JavaScript在形参和实参的数量对应上<strong>可以不一致</strong> <ul><li>形参数 = 实参数： 正常运行</li> <li>形参数 &lt; 实参数： 取<strong>形参数</strong>对应的实参进行传递</li> <li>形参数 &gt; 实参数： 多余的形参定义为<strong>undefined</strong></li></ul></li></ul> <h5 id="_2）封装参数为对象属性"><a href="#_2）封装参数为对象属性" class="header-anchor">#</a> 2）封装参数为对象属性</h5> <ul><li>当参数过多时，容易混淆参数</li> <li>这时可以通过传递对象的属性来解决顺序问题</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> man <span class="token operator">=</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">'卢本伟'</span><span class="token punctuation">,</span>
    age <span class="token operator">=</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
    sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我的名字是'</span><span class="token operator">+</span>obj<span class="token punctuation">.</span>name<span class="token operator">+</span>
    <span class="token string">',今年'</span><span class="token operator">+</span>obj<span class="token punctuation">.</span>age<span class="token operator">+</span><span class="token string">'岁,'</span><span class="token punctuation">,</span><span class="token operator">+</span>obj<span class="token punctuation">.</span>sex<span class="token operator">+</span><span class="token string">'。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sayHi</span><span class="token punctuation">(</span>man<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_3）实参传递函数"><a href="#_3）实参传递函数" class="header-anchor">#</a> 3）实参传递函数</h5> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mianji</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3.14</span> <span class="token operator">*</span> r <span class="token operator">*</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'a='</span><span class="token operator">+</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sayHi</span><span class="token punctuation">(</span>mianji<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//传递函数</span>
<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token function">mianji</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//传递参数的返回值</span>
</code></pre></div><hr> <h5 id="_4）arguments的使用"><a href="#_4）arguments的使用" class="header-anchor">#</a> 4）arguments的使用</h5> <p>在调用函数时，浏览器每次都会传递进两个隐含的参数：</p> <ul><li><p><strong>this</strong> : 函数的上下文对象</p></li> <li><p><strong>arguments</strong> : 封装实参的对象</p> <ul><li>arguments 是一个类数组对象（伪数组），不是数组
<ul><li><p>伪数组特点：</p> <ul><li>具有length属性</li> <li>按索引方式存储数据，可以进行遍历</li> <li>不具有数组的push, pop等方法</li></ul></li></ul></li> <li>arguments 有一个隐含属性： callee
<ul><li>calle == 当前调用的函数对象</li></ul></li></ul></li> <li><p>可以拼接空字符串来看到完整函数</p> <ul><li>当不确定有多少个参数传递的时候，可以用arguments来获取</li> <li>所有<strong>函数</strong>都内置了arguments对象，存储传递的所有实参</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token operator">:</span>	<span class="token comment">//[1,2,3,4,5]</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h4 id="_6-3-作用域"><a href="#_6-3-作用域" class="header-anchor">#</a> 6.3 作用域</h4> <p>变量在某个范围内起作用和效果，目的是为了提高程序的可靠性，更重要的是减少命名冲突</p> <p>JavaScript的作用域（es6之前）：全局作用域、局部作用域</p> <ul><li><p><strong>全局作用域</strong>：</p> <ul><li><p>作用范围：</p> <ul><li>整个script标签内或单独js文件内</li> <li>页面内的所有元素都能使用全局作用域里的变量和函数</li></ul></li> <li><p>全局对象window：</p> <ul><li>在全局作用域中有一个全局对象window，由浏览器创建</li> <li>在全局作用域里创建的 <strong>变量</strong> 都会作为window对象的 <strong>属性</strong> 保存</li> <li>在全局作用域里创建的 <strong>函数</strong> 都会作为window对象的 <strong>方法</strong> 保存</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//10</span>
window<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//'卢本伟牛逼'</span>
</code></pre></div></li> <li><p>全局变量：</p> <ul><li>用var声明的变量</li> <li>注意：
<ul><li><strong>在函数内部没有声明就直接赋值的变量也属于全局变量（不建议使用）</strong></li> <li>在for循环里用var声明的变量也是全局变量</li></ul></li> <li>全局变量只有浏览器关闭的时候才会销毁，比较占用内存</li></ul></li></ul></li> <li><p><strong>函数作用域</strong>：</p> <ul><li>作用范围：
<ul><li>只在函数内部起作用</li> <li>只有在函数内部才能访问内部定义的变量或方法</li></ul></li></ul></li> <li><p><strong>ES6块级作用域</strong></p> <ul><li>问题：在for循环里用var声明的变量也是全局变量</li> <li>解决：用let创建变量
<ul><li>let创建的变量只在当前块级作用域起作用</li> <li>更推荐用let来创建变量，以免造成内存泄露</li></ul></li></ul></li> <li><p><strong>作用域链：</strong></p> <ul><li><p>特点：</p></li> <li><p>子函数找不到，到父函数去找</p> <ul><li>内部函数访问外部函数的变量，采取的是链式查找的方式来决定取哪个值。（就近原则）</li> <li>作用域是静态的，在函数定义好的时候就会一直存在，不再改变</li> <li><strong>作用域与调用顺序无关，跟页面的结构有关</strong></li> <li>执行上下文是动态的，函数调用结束时会自动释放，<strong>不改变原先的作用域关系</strong></li></ul></li> <li><p><strong>大坑：</strong></p> <ul><li>作用域链是按照页面的结构创建的，与调用关系无关</li> <li>页面结构决定作用域链，show1和show2是同级关系</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">666</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">111</span><span class="token punctuation">;</span>
    <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	<span class="token comment">//666</span>
</code></pre></div></li></ul></li></ul> <hr> <h4 id="_6-4-预解析"><a href="#_6-4-预解析" class="header-anchor">#</a> 6.4  预解析</h4> <p>JavaScript代码是由浏览器中的JavaScript解析器来执行的，JavaScript解析器在运行JavaScript代码的时候分两步：</p> <p><strong>预解析和代码执行</strong></p> <ul><li><p>预解析</p> <ul><li>js里面的所有var 还有function 会提升到当前作用域的最前面</li> <li><strong>先执行变量提升，再执行函数提升</strong></li></ul></li></ul> <hr> <h5 id="_1）变量预解析（变量提升）"><a href="#_1）变量预解析（变量提升）" class="header-anchor">#</a> 1）<strong>变量预解析（变量提升）</strong></h5> <p>将变量的声明提升到作用域最前面，不包括赋值</p> <p><strong>坑1：</strong></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">/*等于： var num;
var num = 10;					console.log(num);
								num = 10;		*/</span>
</code></pre></div><p>**坑2：**通过变量声明的函数表达式不会被提前创建</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">/* 等于：var fun;
var fun = function(){				fun();
    console.log(22)；			   fun = function(){
}										console.log(22)；
   									 }		
							*/</span>	  
</code></pre></div><hr> <h5 id="_2）函数预解析（函数提升）"><a href="#_2）函数预解析（函数提升）" class="header-anchor">#</a> 2）<strong>函数预解析（函数提升）</strong></h5> <p>将所有函数声明提升到当前作用域的最前面，不调用函数</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">/*等于：	function fun(){
function fun(){						    console.log(22);
    console.log(22);				  }
}									  fun();
							*/</span>
</code></pre></div><ul><li>集体声明：</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> b <span class="token operator">=</span> c <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token comment">//等于：				在函数里要注意bc是全局变量，a是局部变量</span>
<span class="token comment">/* 	var a = 8;
	b = 8;
	c = 8; */</span>
</code></pre></div><hr> <h5 id="_3）全局执行上下文"><a href="#_3）全局执行上下文" class="header-anchor">#</a> 3）全局执行上下文</h5> <ul><li><p>执行流程：</p> <ul><li>执行代码前，将window对象确定为执行上下文</li> <li>对全局数据进行预处理
<ul><li>变量声明提升，并定义为window的属性</li> <li>函数提升，并定义为window的方法</li> <li>this赋值给window</li></ul></li> <li>开始执行全局代码</li></ul></li> <li><p>实现：</p> <ul><li>栈结构</li> <li>底层为window</li></ul></li></ul> <hr> <h5 id="_4）函数执行上下文"><a href="#_4）函数执行上下文" class="header-anchor">#</a> 4）函数执行上下文</h5> <ul><li><p>执行流程：</p> <ul><li>调用函数，准备执行函数体前，创建对应的函数执行上下文对象</li> <li>对局部数据进行预处理
<ul><li>形参变量==》赋值（实参）==》添加为执行上下文的属性</li> <li>arguments ==》赋值（实参列表），添加为执行上下文的属性</li> <li>var定义的局部变量声明：undefined，添加为执行上下文的属性</li> <li>function声明的函数：声明与赋值，添加为执行上下文的方法</li> <li>this赋值给调用函数的对象</li></ul></li> <li>开始执行函数体代码</li></ul></li> <li><p>注意：</p> <ul><li>该执行上下文对象是不可见的，是栈区的一段区域，用来执行函数的代码，执行完毕后释放</li></ul></li></ul> <hr> <h2 id="_7-javascript对象"><a href="#_7-javascript对象" class="header-anchor">#</a> 7.  JavaScript对象</h2> <p>对象是一组无序的相关 <strong>属性和方法</strong> 的集合</p> <ul><li>变量：保存一个值</li> <li>数组：保存多个值</li> <li>对象：保存完整信息，让结构更清晰</li></ul> <h4 id="_7-1-对象的声明与赋值"><a href="#_7-1-对象的声明与赋值" class="header-anchor">#</a> 7.1 对象的声明与赋值</h4> <ul><li>创建对象的方式（3种）：
<ul><li>字面量模式</li> <li>new Object（Object构造函数）模式</li> <li>工厂模式</li> <li>自定义构造函数模式</li> <li>自定义构造函数+原型 模式</li></ul></li></ul> <hr> <h5 id="_1）字面量创建对象（单体模式）"><a href="#_1）字面量创建对象（单体模式）" class="header-anchor">#</a> 1）字面量创建对象（单体模式）</h5> <ul><li>缺点：
<ul><li>声明的对象修改麻烦，必须重写</li> <li>只适用于创建单个且属性确定的对象</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    uname<span class="token operator">:</span> <span class="token string">'卢本伟'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayhi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>注意：</strong> <ul><li>属性和方法的赋值用冒号：</li> <li>多个属性或方法中间用 **逗号 **隔开，最后一个不用</li> <li>方法后面跟的是一个匿名函数</li> <li>里面的属性或方法采取键值对的形式</li> <li>键： 属性名、 值： 属性值</li> <li>属性名本质上是字符串，可以加引号，特殊属性名必须加引号</li></ul></li></ul> <hr> <h5 id="_2）-new-object（object构造函数）"><a href="#_2）-new-object（object构造函数）" class="header-anchor">#</a> 2） new object（Object构造函数）</h5> <p>跟new Arry()原理一致</p> <ul><li>缺点：
<ul><li>执行代码多，复杂</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>uname <span class="token operator">=</span> <span class="token string">'卢本伟'</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function-variable function">sayhi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>注意：
<ul><li>属性和方法的赋值都是通过等号=</li> <li>每个属性和方法之间用分号隔开</li></ul></li></ul> <hr> <h5 id="_3）工厂方式创建对象"><a href="#_3）工厂方式创建对象" class="header-anchor">#</a> 3）工厂方式创建对象</h5> <p>前面两种创建方式只能一次创建一个对象</p> <p>要大量创建可以把对象里面一些相同的属性和方法抽象出来封装到函数里</p> <ul><li>特点：
<ul><li>通过返回对象的方式创建对象</li> <li>解决的方法为构造函数</li></ul></li> <li>缺点：
<ul><li>由于都是通过 new Object 创建的对象，所以区分不出所属的类，输出的都是Object所属 的对象</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">creat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name <span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token function">creat</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//Object{name:'卢本伟',age:18}</span>
</code></pre></div><hr> <h5 id="_4）构造函数"><a href="#_4）构造函数" class="header-anchor">#</a> 4）构造函数</h5> <p>通过构造函数声明对象，可以明确看出创建对象的所属和来源</p> <hr> <ul><li><strong>this 参数：</strong> <ul><li>解析器在调用函数时每次都会向函数内部传递一个隐藏的参数this</li> <li>this 指向的是一个对象</li> <li>该对象称为函数执行的上下文对象</li> <li>根据函数调用方式的不同，this会指向不同的对象
<ul><li>以函数的形式调用，this指向window</li> <li>以方法的形式调用，this指向那个对象</li> <li>以构造函数的形式调用时，this指向构造的那个对象</li> <li>本质上，this指向调用方法（函数）的那个对象</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    sayHi<span class="token operator">:</span> fun
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//Object   obj指向的对象</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//window</span>
</code></pre></div><hr> <ul><li><strong>自定义构造函数</strong>：</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">构造函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>			<span class="token comment">//构造函数声明</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>属性 <span class="token operator">=</span> 值<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">方法</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 <span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">构造函数名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//构造函数调用</span>
构造函数名<span class="token punctuation">.</span><span class="token function">方法</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					  <span class="token comment">//方法调用</span>
</code></pre></div><ul><li><p><strong>统一规范：</strong></p> <ul><li>构造函数名字 <strong>首字母要大写</strong>（习惯）</li> <li><strong>调用 构造函数要加 new</strong></li> <li>构造函数返回的是对象，不需要return语句</li></ul></li> <li><p><strong>执行流程：</strong></p> <ol><li><p>只要用 new 调用构造函数，马上创建一个新的对象</p></li> <li><p>将新建的对象设置为函数中 this</p></li> <li><p>逐行执行函数中的代码</p></li> <li><p>将新的对象作为返回值</p></li></ol></li> <li><p><strong>类与实例：</strong></p></li> <li><p>同一个构造函数创建的对象称为同一类</p> <ul><li>也称该构造函数为类</li> <li>创建的对象叫做该类的实例</li></ul></li> <li><p><strong>instanceof 运算符</strong></p> <ul><li>instance 实例</li> <li>instanceof运算符用于判断对象是否是一个类的实例</li> <li><strong>任何对象和 Object 进行 instanceof 运算都为true，包括数组和函数</strong></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name <span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
</code></pre></div><ul><li>便捷创建对象属性</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//创建对象添加属性</span>
<span class="token keyword">function</span> <span class="token function">Zhubo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token keyword">while</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">[</span>arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
         i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Zhubo</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'卢本伟'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//Zhubo{age:18,name:'卢本伟'}</span>
</code></pre></div><hr> <h4 id="_7-2-对象的属性"><a href="#_7-2-对象的属性" class="header-anchor">#</a> 7.2 对象的属性</h4> <h5 id="_1）属性的调用"><a href="#_1）属性的调用" class="header-anchor">#</a> 1）属性的调用</h5> <ul><li><p><strong>调用对象属性的方法：</strong></p> <ul><li>对象名.属性名：     obj.age</li> <li>对象名[‘属性名’]：   obj [' age ']</li></ul></li> <li><p>注意：</p> <ul><li>采用第二种方式操作属性能更灵活，可以通过传递变量的方式读取对应的属性</li> <li>属性名有 **特殊字符 **的也必须用第二种方法</li> <li>调用不存在的属性时，返回 <strong>undefined</strong></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'卢本伟'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_2）属性名规范"><a href="#_2）属性名规范" class="header-anchor">#</a> 2）属性名规范</h5> <ul><li>注意：
<ul><li>对象的属性名不强制要求遵守标识符的规范，但尽量遵守</li> <li>如果要使用特殊的属性名，不能用 <strong>.属性</strong> 的方法来操作</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span><span class="token string">'特殊属性名'</span><span class="token punctuation">]</span> <span class="token operator">=</span> 属性值<span class="token punctuation">;</span>		
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">'属性名'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//存取都要用这种方式</span>
</code></pre></div><hr> <h5 id="_3）对象遍历"><a href="#_3）对象遍历" class="header-anchor">#</a> 3）对象遍历</h5> <p>因为对象里的属性没有序号，所以无法用for循环进行遍历</p> <p>在此需要用 <strong>for in 循环</strong> 来对对象进行遍历</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    uname<span class="token operator">:</span> <span class="token string">'卢本伟'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//有多少个属性输出多少次</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//输出对象的属性名</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//属性对象的属性值</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>注意：</p> <ul><li><p>每次执行时把对象中的一个属性的名字赋值给变量</p></li> <li><p>变量 k 不需要进行赋值</p></li> <li><p>习惯变量为 k 或 key</p></li></ul></li></ul> <hr> <h5 id="_4）判断对象里是否有该属性"><a href="#_4）判断对象里是否有该属性" class="header-anchor">#</a> 4）判断对象里是否有该属性</h5> <ul><li>用 <strong>in</strong> 运算符进行判断，有返回 <strong>true</strong>，没有返回 <strong>false</strong></li> <li>使用 <strong>in</strong> 检查时，若对象里没有，原型里有，也会返回 <strong>true</strong></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'age'</span> <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
</code></pre></div><hr> <h5 id="_5）删除属性"><a href="#_5）删除属性" class="header-anchor">#</a> 5）删除属性</h5> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
<span class="token keyword">delete</span> obj<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
</code></pre></div><hr> <h4 id="_7-3-对象的方法"><a href="#_7-3-对象的方法" class="header-anchor">#</a> 7.3 对象的方法</h4> <h5 id="_1）方法的调用"><a href="#_1）方法的调用" class="header-anchor">#</a> 1）方法的调用</h5> <ul><li>对象名.方法名( )：    obj.sayhi( );</li> <li>方法是已声明的函数时，注意不加括号</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    caozuo1<span class="token operator">:</span> fun<span class="token punctuation">,</span>		<span class="token comment">//调用fun函数</span>
    caozuo2<span class="token operator">:</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//调用的是无参数的fun输出的值</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h5 id="_2）创建实例方法"><a href="#_2）创建实例方法" class="header-anchor">#</a> 2）创建实例方法</h5> <p>当创建大量实例时，里面重复的方法会创建多次。完全可以使所有的对象共享同一个方法</p> <ul><li>解决方法（伪）：
<ul><li>将构造函数里的方法放到全局作用域定义</li> <li>在构造函数里只进行对全局函数的调用</li></ul></li> <li>好处：
<ul><li>可以大幅提升性能</li></ul></li> <li>坏处：
<ul><li>污染全局作用域的命名空间</li> <li>定义在全局作用域中会很不安全（被别人无意修改）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我的名字是'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sayName <span class="token operator">=</span> fun<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>实际解决方法：原型对象</li></ul> <hr> <h5 id="_3）原型对象"><a href="#_3）原型对象" class="header-anchor">#</a> 3）原型对象</h5> <p>当创建函数时，解析器都会向 <strong>构造函数</strong> 中添加一个属性prototype，这个属性对应着一个对象，称为原型对象</p> <ul><li><strong>基本概念（重点）</strong>：
<ul><li>由构造函数构建的对象，称为该构造函数的实例</li> <li>默认所有函数（包括构造函数）的原型对象，都是Object构造函数的实例，且里面都有constructor属性，指向该构造函数</li> <li>默认所有的函数（包括构造函数），都是Function构造函数的实例</li> <li>实例： <code>__prototype__</code> 指向其构造函数的原型对象（隐式原型）</li> <li>构造函数：<code>prototype</code> 指向该构造函数的原型对象 （显式原型）</li> <li>原型对象： <code>constructor</code> 指向该构造函数</li> <li>实例 <code>__prototype__</code>  === 构造函数<code>prototype</code></li> <li>只有当构造函数的原型对象是Object构造函数实例时，才有constructor属性</li></ul></li></ul> <hr> <ul><li><strong>在普通函数中</strong> <ul><li>prototype指向自己  <strong>唯一</strong>  的  <strong>‘’对象‘’</strong></li> <li>调用prototype没有任何作用，有和没有都一样</li> <li>所有函数都是Function的实例，包括Function</li> <li>所有函数的隐式原型都是一样的，都是Function的显式原型</li> <li>Function的显式原型和隐式原型一样（任何函数都是Function的实例）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun1<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//Object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun1<span class="token punctuation">.</span>prototype <span class="token operator">==</span> fun2<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//false</span>
</code></pre></div><ul><li><strong>在构造函数中</strong> <ul><li>构造函数：<code>prototype</code> 指向该类共有的原型对象 （显式原型）</li> <li>原型对象： <code>constructor</code> 指向该构造函数</li> <li>实例：  <code>__prototype__</code>指向其构造函数的原型对象（隐式原型）</li> <li><strong>实例的隐式原型和其构造函数的显示原型相同</strong>（函数有特殊）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>construtor<span class="token operator">===</span>Person<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
</code></pre></div><ul><li><strong>创建实例方法：</strong> <ul><li>由于通过同一构造函数创建的实例都有公共原型对象，所以可以将其共有的方法声明在原型对象中</li> <li>解决了在构造函数声明方法造成的性能降低</li> <li>解决了在全局作用域声明函数造成的命名空间污染</li></ul></li> <li><strong>原型链：</strong> <ul><li>当 <strong>访问（查找）</strong> 对象的属性或方法时，会现在对象自身里寻找</li> <li>找不到则到原型对象里找，再到其原型对象里找，一直递推，直到 <strong>Object</strong> 对象的原型</li> <li><strong>Object</strong> <strong>对象的原型对象没有原型对象</strong>，但有<code>__proto__</code>属性，属性值为null，Object原型对象是原型链的尽头</li> <li>再找不到则返回 <strong>undefined</strong></li> <li>使用 <strong>in</strong> 检查时，若对象里没有，原型里有，也会返回 <strong>true</strong></li></ul></li> <li><strong>注意：</strong> <ul><li>对对象的属性赋值时，若对象里没有该属性，不会去其原型链里找，而是直接在对象里加上属性并赋值</li> <li>注意区分查找和赋值</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lubenwei<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//'卢本伟牛逼'</span>
lubenwei<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//'卢本伟牛逼'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sayHi'</span> <span class="token keyword">in</span> lubenwei<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
</code></pre></div><hr> <ul><li><p>toString( )方法</p> <ul><li>当我们在页面中打印一个对象时，实际上是输出对象的 <strong>toString( )</strong> 方法的返回值</li></ul></li> <li><p>注意：</p> <ul><li>toString( )方法保存在该对象的原型中</li> <li>可以通过修改toString()方法的方式来得到想要的输出结果</li> <li>若在当前对象修改，则只对该对象有效</li> <li>在原型里修改可以使同类实例的输出方式相同</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name <span class="token punctuation">,</span>age <span class="token punctuation">,</span>gender</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Person[name = '</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span><span class="token string">', age = '</span><span class="token operator">+</span> 
        	<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">', gender = '</span> <span class="token operator">+</span> gender <span class="token operator">+</span> <span class="token string">']'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token comment">//Person[name = '卢本伟', age = 18, gender = '男']</span>
</code></pre></div><hr> <hr> <h5 id="_4）hasownproperty-方法"><a href="#_4）hasownproperty-方法" class="header-anchor">#</a> 4）hasOwnProperty( )方法</h5> <p>因为in运算符无法判断属性或方法是在对象本身还是原型对象里，所以要采用hasOwnProperty( )方法来判断检查</p> <ul><li><strong>注意：</strong> <ul><li>hasOwnProperty()方法保存在 **原型对象 **的 <strong>原型对象</strong> 内</li> <li>即 <strong>Object</strong> 构造函数的原型对象内</li> <li>原型对象是对象，也有它自身的原型对象</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'卢本伟牛逼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'sayHi'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lubenwei<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
</code></pre></div><ul><li><strong>原型对象的层级</strong>：
<ul><li>直接打印的 <strong>Object</strong> 是通过 <strong>Object构造函数</strong> 创建的实例 <strong>Object</strong> 对象</li> <li>默认进行了操作： <code>var Object = new Object( );</code></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> clo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Class</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> cla <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Object的原型对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clo<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>

<span class="token comment">//Object的原型对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cla<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>

<span class="token comment">//null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>	
  
<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_5）闭包"><a href="#_5）闭包" class="header-anchor">#</a> 5）闭包</h5> <ul><li><p>闭包（closure）</p> <ul><li>作为一个对象的属性，<strong>保存在内部函数中</strong></li> <li>产生闭包：
<ul><li>当一个嵌套的内部子函数引用了嵌套外部父元素函数的变量（方法）时，就产生了闭包</li> <li>产生了多少个闭包，取决于调用了多少次<strong>外部函数</strong></li></ul></li> <li><strong>条件：</strong> <ul><li>有嵌套</li> <li>嵌套内部函数引用了外部的变量（方法）</li> <li><strong>内部函数有被定义</strong>，闭包在定义时就被创建，保存在内部函数中</li></ul></li></ul></li> <li><p>作用：</p> <ul><li><p>使用函数内部的变量在函数执行完后，仍然存活在内存中（延长了局部变量的生命周期）</p> <ul><li>原来的局部变量将保存在闭包对象的属性中</li> <li>实际上外部函数里的 <strong>局部变量</strong> 在执行完后已经被释放，<strong>我们看到的是保存在闭包里的值</strong></li> <li>等于限制了对局部变量的操作，只暴露了内部函数中对局部变量的操作</li></ul></li></ul></li> <li><p>注意：</p> <ul><li>要在全局中<strong>用一个变量存储闭包的数据</strong>（存储内部函数），保证包含闭包数据的内部函数不会成为垃圾对象</li> <li>用完要记得将这个变量赋值为null，释放空间</li></ul></li> <li><p>生命周期：</p> <ul><li>产生：内部函数被定义（在满足闭包的条件下）</li> <li>死亡：保存闭包的变量设置为null，原来存储的函数对象变成垃圾对象</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	a<span class="token operator">++</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	a<span class="token operator">--</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> fn2<span class="token punctuation">;</span>		<span class="token comment">//return的函数要执行</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//没用变量存储内部函数（闭包）</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 0</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">//用变量存储内部函数（闭包）</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//  0</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// -1</span>
</code></pre></div><ul><li><p>应用：</p> <ul><li><p>1）JavaScript模块</p> <ul><li>特点：
<ul><li>具有特定功能的js文件</li> <li>将所有的数据和功能都封装在一个函数内部（私有）</li></ul></li></ul></li> <li><p>只向外暴露一个包含n个方法的对象或函数</p> <ul><li>模块的使用者只能通过暴露的对象调用方法来实现相应功能</li> <li>和对象的区别
<ul><li>对象的所有属性和方法都能从外部访问</li> <li>模块只能调用暴露的方法</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//方法1：在外存储接口</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      fn1<span class="token operator">:</span> fn1<span class="token punctuation">,</span>
      fn2<span class="token operator">:</span> fn2
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fnn <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fnn<span class="token punctuation">.</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 1</span>

<span class="token comment">//方法2：把接口保存为window属性</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">window</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>fnn <span class="token operator">=</span> <span class="token punctuation">{</span>
        fn1<span class="token operator">:</span> fn1<span class="token punctuation">,</span>
        fn2<span class="token operator">:</span> fn2
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//方法2比较好，最好传参window，可以方便简化代码</span>
</code></pre></div></li> <li><p>2）for循环绑定问题</p> <ul><li>问题原因：
<ul><li>for循环在定义完成就开始执行</li> <li>当调用函数时，外层作用域的变量已经为最终值</li> <li>绑定的结果都是同一个</li></ul></li> <li>解决：
<ul><li>利用闭包产生的原因和立即执行函数
<ul><li>利用立即执行函数：每次循环都将调用一次里层函数</li> <li>利用闭包：里层函数被调用时将外层变量i保存进闭包里，此时的变量i是当前循环的i</li></ul></li> <li>利用ES6块级作用域解决（let）
<ul><li>用let定义的变量只作用与当前作用域</li></ul></li></ul></li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>
<span class="token comment">//闭包和IIFE结合</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token keyword">return</span> i<span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//  0/1/2</span>

<span class="token comment">//ES6块级作用域</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 0/1/2</span>
</code></pre></div><hr> <h4 id="_7-4-对象继承"><a href="#_7-4-对象继承" class="header-anchor">#</a> 7.4 对象继承</h4> <h5 id="_1）原型链继承"><a href="#_1）原型链继承" class="header-anchor">#</a> 1）原型链继承</h5> <ul><li>作用：
<ul><li>子实例对象 继承 父对象构造函数的方法</li> <li>通过原型链来实现</li></ul></li> <li>实现：
<ul><li>让让子构造函数的原型对象变为父构造函数的实例，而不是Object构造函数的实例</li> <li>默认所有构造函数的原型对象都是Object实例</li> <li>通过修改子构造函数的原型对象（instanceof 为父构造函数），可以使子原型对象的<code>__proto__</code> 指向父原型对象</li></ul></li> <li>弊端：
<ul><li>子原型对象中没有<code>constructor</code> 属性</li> <li>调用时会找到父原型对象的 <code>constructor</code>属性，从而造成一个假象：子原型对象的 <code>constructor</code>属性指向父构造函数</li> <li>解决方法：
<ul><li>为子构造函数原型对象赋予<code>constructor</code>属性</li> <li>并把值设置为子原型对象</li> <li>对<code>constructor</code>属性进行修复</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//父类型</span>
<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fMsg <span class="token operator">=</span> <span class="token string">'father'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fFn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//子类型</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sMsg <span class="token operator">=</span> <span class="token string">'son'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//让子构造函数的原型对象变为父构造函数的实例，而不是Object的实例</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//修复constructor属性</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sFn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//子实例</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">fFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//调用父构造函数原型对象里的方法</span>

</code></pre></div><hr> <h5 id="_2）借用构造函数继承（伪）"><a href="#_2）借用构造函数继承（伪）" class="header-anchor">#</a> 2）借用构造函数继承（伪）</h5> <ul><li>作用：
<ul><li>使子构造函数能够使用父构造函数的属性操作</li> <li>其实只是假的继承，实际上是简化代码</li></ul></li> <li>实现：
<ul><li>用call方法强制调对该对象使用另一个构造函数属性操作</li> <li><code>函数.call(对象,形参...)</code></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//相当于对this强制调用Person函数</span>
    <span class="token comment">//与 this.name = name; 等效</span>
    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_3）组合继承"><a href="#_3）组合继承" class="header-anchor">#</a> 3）组合继承</h5> <ul><li>作用：
<ul><li>结合了原型链继承调用方法，借用继承调用函数操作</li> <li>使子构造函数的实例可以使用父构造函数原型里的方法，也可以使用父构造函数里对属性的操作</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//父类型</span>
<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//子类型</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//借用继承</span>
    <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//让子构造函数的原型对象变为父构造函数的实例，而不是Object的实例</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//修复constructor属性</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span>

<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//子实例</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">'卢本伟'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//卢本伟</span>
s<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'牛逼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 牛逼</span>

</code></pre></div><h4 id="_7-5-内置对象"><a href="#_7-5-内置对象" class="header-anchor">#</a> 7.5 内置对象</h4> <p>JavaScript的对象分三种：</p> <ol><li><p>自定义对象</p></li> <li><p><strong>内置对象</strong></p></li> <li><p>浏览器对象（BOM、DOM）</p> <ul><li>前面两种对象是js基础内容，属于ECMAScript；</li> <li>第三个浏览器对象属于js独有的</li> <li>内置对象就是指js语言自带的一些对象，这些对象供开发者使用，并提供了一些常用的伙食最基本而必要的功能(属性和方法)</li> <li>用得最多的还是内置对象和浏览器对象</li> <li>自定义对象在高级开发时用</li></ul></li></ol> <ul><li><strong>查询文档：</strong> <ul><li>MDN：https://developer.mozilla.org/zh-CN/</li></ul></li></ul> <hr> <h5 id="_1）算术对象（math）"><a href="#_1）算术对象（math）" class="header-anchor">#</a> 1）算术对象（Math）</h5> <p>Math对象 <strong>不是构造函数</strong> ，属于工具类，不需要用new来调用</p> <ul><li>Math 对象属性</li></ul> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>E</strong></td> <td>返回算术常量 e，即自然对数的底数（约等于2.718）。</td></tr> <tr><td><strong>PI</strong></td> <td>返回圆周率（约等于3.14159）。</td></tr> <tr><td>LN2</td> <td>返回 2 的自然对数（约等于0.693）。</td></tr> <tr><td>LN10</td> <td>返回 10 的自然对数（约等于2.302）。</td></tr> <tr><td>LOG2E</td> <td>返回以 2 为底的 e 的对数（约等于 1.414 ）。</td></tr> <tr><td>LOG10E</td> <td>返回以 10 为底的 e 的对数（约等于0.434）。</td></tr></tbody></table> <ul><li>Math 对象方法</li></ul> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><strong>abs(x)</strong></td> <td>返回数的绝对值。</td></tr> <tr><td>acos(x)</td> <td>返回数的反余弦值。</td></tr> <tr><td>asin(x)</td> <td>返回数的反正弦值。</td></tr> <tr><td>atan(x)</td> <td>以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值。</td></tr> <tr><td>atan2(y,x)</td> <td>返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）。</td></tr> <tr><td><strong>ceil(x)</strong></td> <td>对数进行上舍入。向上取整</td></tr> <tr><td>cos(x)</td> <td>返回数的余弦。</td></tr> <tr><td>exp(x)</td> <td>返回 e 的指数。</td></tr> <tr><td><strong>floor(x)</strong></td> <td>对数进行下舍入。向下取整</td></tr> <tr><td>log(x)</td> <td>返回数的自然对数（底为e）。</td></tr> <tr><td><strong>max(x,y)</strong></td> <td>返回 x 和 y 中的最高值。</td></tr> <tr><td><strong>min(x,y)</strong></td> <td>返回 x 和 y 中的最低值。</td></tr> <tr><td>pow(x,y)</td> <td>返回 x 的 y 次幂。</td></tr> <tr><td><strong>random()</strong></td> <td>返回 0 ~ 1 之间的随机数。<strong>不包括1</strong></td></tr> <tr><td><strong>round(x)</strong></td> <td>把数四舍五入为最接近的整数。</td></tr> <tr><td>sin(x)</td> <td>返回数的正弦。</td></tr> <tr><td><strong>sqrt(x)</strong></td> <td>返回数的平方根。</td></tr> <tr><td>tan(x)</td> <td>返回角的正切。</td></tr> <tr><td>toSource()</td> <td>返回该对象的源代码。</td></tr> <tr><td>valueOf()</td> <td>返回 Math 对象的原始值。</td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token constant">PI</span>			<span class="token comment">//圆周率</span>

Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//输出最大值，参数里有非数值型时，输出NaN</span>
				<span class="token comment">//没有参数时，输出 -Infinity</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//类似于最大值</span>
Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//绝对值，有隐式转换，参数是非数值型时，输出NaN</span>

Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//向下取整</span>
Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//向上取整</span>
Math<span class="token punctuation">.</span>round		<span class="token comment">//四舍五入取整  注意负数： -3.5  取-3</span>

Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//返回一个随机的小数  0 &lt;= x &lt; 1</span>
				<span class="token comment">//不含有参数</span>
<span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span>				<span class="token comment">//返回两个整数之间的随机整数</span>
</code></pre></div><p>猜数字案例：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//猜1~100的整数，只有10次机会 </span>
<span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">min <span class="token punctuation">,</span> max</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>min<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">var</span> anum <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'请输入猜的数字'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>anum <span class="token operator">&lt;</span> <span class="token function">Number</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                num <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'数字大了，你还有'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'次机会'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">--</span><span class="token punctuation">;</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>anum <span class="token operator">&gt;</span> <span class="token function">Number</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                num <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'数字小了，你还有'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'次机会'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">--</span><span class="token punctuation">;</span>
                i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>anum <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                num <span class="token operator">=</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'恭喜你猜对了，你总共猜了'</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">'次'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
</code></pre></div><hr> <h5 id="_2）日期对象（date）"><a href="#_2）日期对象（date）" class="header-anchor">#</a> 2）日期对象（Date）</h5> <ul><li>日期对象是一个构造函数，要用 new 来调用</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//没有参数时返回代码执行时的系统时间</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		

<span class="token comment">//创建指定的时间对象</span>
<span class="token comment">//参考格式： '月份/日/年份 时：分：秒'</span>
<span class="token keyword">var</span> date1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">,</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//数字型</span>
<span class="token keyword">var</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2020-3-1 8:8:8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//字符串型</span>
<span class="token keyword">var</span> date3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'3/1/2020 8:8:8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//字符串型</span>

<span class="token comment">//Wed Apr 01 2020 08:08:08 GMT+0800 (中国标准时间)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date1<span class="token punctuation">)</span><span class="token punctuation">;</span>	
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date1 <span class="token operator">==</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span>	 <span class="token comment">//false</span>
</code></pre></div><ul><li>日期格式化：</li></ul> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>.getFullYear()</td> <td>获取当前对象年</td></tr> <tr><td>.getMonth()</td> <td>获取当前对象月（0 - 11），记得月份要加1</td></tr> <tr><td>.getDate()</td> <td>获取当前对象日</td></tr> <tr><td>.getDay()</td> <td>获取当前对象星期几（0 - 6），周日返回 0</td></tr> <tr><td>.getHours()</td> <td>获取当前对象小时</td></tr> <tr><td>.getMinutes()</td> <td>获取当前对象分钟</td></tr> <tr><td>.getSeconds()</td> <td>获取当前对象秒数</td></tr> <tr><td><strong>.getTime()</strong></td> <td>获取当前对象的时间戳</td></tr> <tr><td>Date.now()</td> <td>获取执行代码时的时间戳</td></tr></tbody></table> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//日期格式化</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> year <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> month <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> dates <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> day <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'星期天'</span><span class="token punctuation">,</span><span class="token string">'星期一'</span><span class="token punctuation">,</span><span class="token string">'星期二'</span><span class="token punctuation">,</span><span class="token string">'星期三'</span><span class="token punctuation">,</span><span class="token string">'星期四'</span><span class="token punctuation">,</span><span class="token string">'星期五'</span><span class="token punctuation">,</span><span class="token string">'星期六'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'今天是'</span><span class="token operator">+</span> year <span class="token operator">+</span> <span class="token string">'年'</span><span class="token operator">+</span> month <span class="token operator">+</span><span class="token string">'月'</span><span class="token operator">+</span> dates <span class="token operator">+</span> <span class="token string">'日 '</span><span class="token operator">+</span> arr<span class="token punctuation">[</span>day<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li><strong>时间戳（绝对时间）</strong> <ul><li>时间戳指现在距离<strong>1970年1月1日</strong>的总毫秒数</li> <li>会自动根据操作系统来计算时区差异</li> <li>计算机底层保存时间都用时间戳的方式</li> <li>统一单位</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">valueof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//方法一</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//方法二</span>

<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//方法三（最常用）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//方法四（H5新增）</span>
</code></pre></div><hr> <ul><li>倒计时
<ul><li>利用时间戳转换为时分秒</li> <li>计算输入时间到当前时间的总毫秒数</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//倒计时</span>
<span class="token keyword">function</span> <span class="token function">countDown</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">var</span> nowTime <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> inputTime <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> countTime <span class="token operator">=</span> <span class="token punctuation">(</span>inputTime <span class="token operator">-</span> nowTime<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> day <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>countTime<span class="token operator">/</span><span class="token number">60</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">/</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
day <span class="token operator">=</span> day <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> day<span class="token operator">:</span> day<span class="token punctuation">;</span>				<span class="token comment">//规范化</span>
<span class="token keyword">var</span> hour <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>countTime<span class="token operator">/</span><span class="token number">60</span><span class="token operator">/</span><span class="token number">60</span><span class="token operator">%</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hour <span class="token operator">=</span> hour <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> hour<span class="token operator">:</span> hour<span class="token punctuation">;</span>
<span class="token keyword">var</span> minute <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>countTime<span class="token operator">/</span><span class="token number">60</span><span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
minute <span class="token operator">=</span> minute <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> minute<span class="token operator">:</span> minute<span class="token punctuation">;</span>
<span class="token keyword">var</span> second <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>countTime<span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
second <span class="token operator">=</span> second <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> second<span class="token operator">:</span> second<span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">(</span>day <span class="token operator">+</span> <span class="token string">'天'</span> <span class="token operator">+</span> hour <span class="token operator">+</span><span class="token string">'小时'</span> <span class="token operator">+</span> minute <span class="token operator">+</span> <span class="token string">'分钟'</span> <span class="token operator">+</span> second <span class="token operator">+</span> <span class="token string">'秒'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token string">'2020-03-05 15:00:00'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li>检测代码运行时间（效率）</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> finTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'代码运行了'</span><span class="token operator">+</span> <span class="token punctuation">(</span>finTime <span class="token operator">-</span> preTime<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span> <span class="token operator">+</span><span class="token string">'秒'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_3）数组对象（array）"><a href="#_3）数组对象（array）" class="header-anchor">#</a> 3）数组对象（Array）</h5> <ul><li><p><strong>创建数组的两种方式：</strong></p> <ul><li>字面量方式</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Arry()构造函数</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Arry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>注意：</p> <ul><li>普通对象是用字符串作为属性名的</li> <li>数组对象是以数字作为索引 &quot;<strong>index</strong>&quot;</li> <li>数组对象的属性值称为  “<strong>数组元素</strong>”</li> <li>数组的存储性能比普通对象好，在开发中常使用数组来存储一组数据</li> <li>在调用数组对象时可以传递参数，作为数组元素</li> <li>数组中可以存任何数据类型，包括对象、函数和数组</li> <li>数组里放数组： 二维数组</li></ul></li> <li><p>数组长度（length）：</p> <ul><li><p>length属性只能获取连续数组的元素个数  <strong>???</strong></p></li> <li><p>length属性保存在该数组对象内</p></li> <li><p>可以修改length来删除数组元素</p></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 22</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'length'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
</code></pre></div><ul><li><strong>常用方法</strong></li></ul> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>concat()</td> <td>连接两个或更多的数组，并返回结果。</td></tr> <tr><td>join('分隔符')</td> <td>把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。</td></tr> <tr><td><strong>pop()</strong></td> <td>删除并返回数组的最后一个元素</td></tr> <tr><td><strong>push()</strong></td> <td>向数组的末尾添加一个或更多元素，并返回新的长度。</td></tr> <tr><td><strong>shift()</strong></td> <td>删除并返回数组的第一个元素</td></tr> <tr><td><strong>unshift</strong></td> <td>向数组的开头添加一个或更多元素，并返回新的长度。</td></tr> <tr><td>reverse()</td> <td>颠倒数组中元素的顺序，并返回修改后的数组。</td></tr> <tr><td>slice()</td> <td>从某个已有的数组返回选定的元素</td></tr> <tr><td>sort( 回调函数 )</td> <td>对数组的元素进行排序，<strong>只适用于一位数</strong>（按照 <strong>unicode编码</strong> 进行排序）,并返回修改的数组</td></tr> <tr><td>splice(开始索引号，第几个，替换值)</td> <td>删除元素，并向数组添加新元素。</td></tr> <tr><td>isArray()</td> <td>Array构造函数对象的方法，检测是否为数组</td></tr></tbody></table> <ul><li><p>sort()方法：</p> <ul><li><p>按照unicode编码比对方式进行排序</p></li> <li><p>数字排序时会出现错误，只按照最高位进行排序</p></li> <li><p>可以通过传递回调函数的方式来进行数字排序</p></li> <li><p>回调函数参数：</p> <ul><li>a，b</li></ul></li> <li><p>回调函数返回值：</p> <ul><li>return  大于 0 的数字：元素交换位置，认为 a &gt; b</li> <li>return  等于 0 的数字：元素位置不变，认为两元素相等</li> <li>return  小于 0 的数字：元素位置不变，认为 a &lt; b</li></ul></li> <li><p>简易回调函数：</p> <ul><li>升序排序：return a - b；</li> <li>降序排序：return b - a;</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">324</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">/*if(a &gt; b){				return a - b;
       rerurn 1;
    }else if(a == b){
       return 0;
    }else{
       return -1;
    }*/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//[13, 34, 54, 65, 75, 324]</span>
</code></pre></div><hr> <hr> <h5 id="_5）字符串对象（string）"><a href="#_5）字符串对象（string）" class="header-anchor">#</a> 5）字符串对象（String）</h5> <ul><li><p>包装类</p> <ul><li>JavaScript中提供了三个包装类
<ul><li>String( )、Number( )、Bollean( )</li></ul></li></ul></li> <li><p>通过包装类可以将基本数据类型转换成对象</p> <ul><li>基本数据类型：
<ul><li>String、Number、Boolean、null、undefined</li></ul></li> <li>引用数据类型
<ul><li>Object</li></ul></li></ul></li> <li><p>基本数据类型没有对象的功能强大，转换为对象可以更方便操作</p></li> <li><p>开发中一般不使用基本数据类型对象，比较时会出现问题</p></li> <li><p>当对一些基本数据类型调用属性和方法时，浏览器会  <strong>临时</strong>  使用包装类转换成对象，再调用属性和方法。调用完后再转回基本数据类型</p></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
s <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//'123'</span>

s<span class="token punctuation">.</span>hello <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//undefined</span>
</code></pre></div><ul><li>String 对象</li></ul> <p>字符串在底层是用  <strong>‘’字符数组‘’</strong>‘  进行保存的</p> <ul><li><strong>String 对象属性</strong></li></ul> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>length</td> <td>字符串的长度</td></tr></tbody></table> <ul><li><strong>String 对象方法</strong></li></ul> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>charAt(索引号)</td> <td>返回在指定位置的字符。可以直接用数组的形式调用   <strong>str[ ]</strong></td></tr> <tr><td>charCodeAt(索引号)</td> <td>返回在指定的位置的字符的 Unicode 编码。</td></tr> <tr><td>fromCharCode(编码)</td> <td>输出unicode编码对应的字符串。  **String构造函数对象 **的方法</td></tr> <tr><td><strong>concat()</strong></td> <td>连接字符串。作用和+相同</td></tr> <tr><td>indexOf(‘查找字符’ ,     开始查找位置)</td> <td><strong>从前往后</strong> 检索字符串。有则返回第一次出现的索引号；没有则返回-1</td></tr> <tr><td>lastIndexOf(‘查找字符’ , 开始查找位置)</td> <td>**从后往前 **检索字符串。有则返回第一次出现的索引号；没有则返回-1</td></tr> <tr><td>slice(开始位置索引，结束位置索引)</td> <td>提取字符串的片断，并在新的字符串中返回被提取的部分，<strong>不包括结束索引号对应的字符</strong>。不改变原数组。如果没有第二个参数，则截取后面全部；如果第二个参数为负数，则第二个参数是倒数的索引号</td></tr> <tr><td>substr(开始索引，截取数量)</td> <td>从起始索引号提取字符串中指定数目的字符。</td></tr> <tr><td>split(‘分隔符’)</td> <td>把字符串分割为字符串数组。与数组的 join()方法相反</td></tr> <tr><td><strong>toUpperCase()</strong></td> <td>把字符串转换为大写并返回。不改变原字符串</td></tr> <tr><td><strong>toLowerCase()</strong></td> <td>把字符串转换为小写并返回。不改变原字符串</td></tr> <tr><td><strong>replace(reg, 替换字符)</strong></td> <td>参数：正则表达式/字符串，替换的字符。将正则表达式的字段替换成新字符，不改变原字符串。如果第一个参数是字符串，则只替换一个</td></tr></tbody></table> <ul><li><p>slice()、splice()、substr()、substring()</p> <ul><li>相同点：
<ul><li>都返回一个子的字符串。</li> <li>都接受一个参数或者两个参数</li> <li>第一个参数是指定字符串的开始位置</li> <li>第二次参数（在指定的情况下）表示字符串到哪里结束</li> <li>如果没有第二个参数，则将字符串结束的未位作为结束位置</li></ul></li> <li>不同点：
<ul><li>slice()和substring()第二次参数指定的是字符串最后一个字符后面的位置</li> <li>splice()和substr()第二个参数指定字符串个数；</li></ul></li> <li>参数为负数：
<ul><li>slice()、splice() 会将所有的负数与字符串的长度相加</li> <li>substr() 会将第一个负参数与字符串长度相加，第二个负参数转化为 0</li> <li>substring() 将所有的负参数转化为 0</li></ul></li></ul></li> <li><p>padStart()</p> <ul><li>es6新增</li> <li>作用：
<ul><li>填充字符</li> <li>一般作用于日期，在个位前补零</li></ul></li> <li>语法：</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>date<span class="token punctuation">.</span><span class="token function">padStat</span><span class="token punctuation">(</span><span class="token string">'总位数'</span><span class="token punctuation">,</span><span class="token string">'填充字符'</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h5 id="_6）正则表达式（regexp）"><a href="#_6）正则表达式（regexp）" class="header-anchor">#</a> 6）正则表达式（RegExp）</h5> <ul><li>正则表达式：regular expression</li> <li>用法：
<ul><li>用于定义一些字符串规则</li> <li>计算机可以根据正则表达式来检查一个字符串是否符合规则</li> <li>也可以将字符串中符合规则的内容提取出来</li></ul></li> <li>注意：
<ul><li>正则表达式检查严格区分大小写</li> <li>可以在匹配模式输入参数忽略大小写</li> <li>参数必须是字符串形式
<ul><li><strong>‘ i ’</strong>   :	忽略大小写</li> <li><strong>‘ g ’</strong>  :    全局匹配模式( 查找所有，而不是找到第一个后停止 )</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//语法：	var 变量 = new RegExp('正则表达式', '匹配模式');</span>

<span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	  <span class="token comment">//检查字符串是否含有'a'，无关位置</span>
<span class="token keyword">var</span> reg2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> reg<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//Object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//  /a/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'asadasdac'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result1 <span class="token operator">=</span> reg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result2 <span class="token operator">=</span> reg2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true</span>
</code></pre></div><ul><li><p>test方法：</p> <ul><li>使用这个方法可以用来检查一个字符串是否符合正则表达式的规则</li> <li>符合返回 true</li> <li>否则返回false</li></ul></li> <li><p>字面量创建正则表达式</p> <ul><li>字面量创建比较简单</li> <li>构造函数创建比较灵活，可以传递参数</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//语法： var 变量 = /正则表达式/匹配模式</span>

<span class="token comment">//var reg = new RegExp();</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/a/i</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>正则表达式</li></ul> <table><thead><tr><th>符号</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>|</td> <td style="text-align:left;">分隔号，表示或</td></tr> <tr><td>[ ]</td> <td style="text-align:left;">表示或</td></tr> <tr><td>{ n }</td> <td style="text-align:left;">量词，连续出现相同字符的次数 。只对前一个字符起作用，多个字符时要用括号。</td></tr> <tr><td>+</td> <td style="text-align:left;">1个或多个，相当于{1, }</td></tr> <tr><td>*</td> <td style="text-align:left;">0个或多个，有没有都行</td></tr> <tr><td>?</td> <td style="text-align:left;">0个或一个，相当于｛0 , 1｝</td></tr> <tr><td>^</td> <td style="text-align:left;">指定开头第一个，写在指定的字符前</td></tr> <tr><td>$</td> <td style="text-align:left;">指定结尾</td></tr></tbody></table> <ul><li><strong>'|'</strong>	、<strong>'[ ]'</strong>     中括号里的内容或竖线隔开都表示 <strong>‘或‘</strong> 的关系。都是只表示一位</li> <li><strong>{ n }</strong>：量词，连续出现相同字符的次数 。只对前一个字符起作用，多个字符时要用括号</li> <li>‘ + ’  :   1个或多个，相当于{1, }</li> <li>' * '  :   0个或多个，有没有都行</li> <li>' ? '  :   0个或一个，相当于｛0 , 1｝</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>ab<span class="token punctuation">]</span> <span class="token operator">==</span> a<span class="token operator">|</span>b	
<span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span>		<span class="token comment">//任意小写字母</span>
<span class="token punctuation">[</span><span class="token constant">A</span><span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span>		<span class="token comment">//任意大写字母 </span>
<span class="token punctuation">[</span><span class="token constant">A</span><span class="token operator">-</span>z<span class="token punctuation">]</span>		<span class="token comment">//任意字母	不能[a-Z]</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>		<span class="token comment">//任意数字</span>
a<span class="token punctuation">[</span>bcde<span class="token punctuation">]</span>e	<span class="token comment">// abe、ace、ade、aee	(abce  //false)</span>
<span class="token punctuation">[</span><span class="token operator">^</span>ab<span class="token punctuation">]</span>		<span class="token comment">//除了ab</span>
<span class="token punctuation">[</span><span class="token operator">^</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>		<span class="token comment">//除了数字</span>
<span class="token operator">^</span>a			<span class="token comment">//开头为a</span>
a$			<span class="token comment">//结尾为a</span>
<span class="token operator">^</span>a$			<span class="token comment">//只能为a,同时使用时表示要完全符合</span>
<span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span>		<span class="token comment">//连续三个ab</span>
a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>		<span class="token comment">//1~3个a</span>
a<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span>		<span class="token comment">//1个以上的a</span>
a<span class="token operator">+</span>			<span class="token comment">//至少一个a，相当于a{1,}</span>
ab<span class="token operator">*</span>c		<span class="token comment">//  ac、abc、abbc、ab...bc</span>
ab<span class="token operator">?</span>c		<span class="token comment">//	ac、abc</span>
</code></pre></div><ul><li>元字符</li></ul> <p>元字符（Metacharacter）是拥有特殊含义的字符：</p> <table><thead><tr><th>元字符</th> <th>描述</th></tr></thead> <tbody><tr><td>.</td> <td>查找单个字符，除了换行和行结束符。</td></tr> <tr><td>\w</td> <td>任意字母、数字、下划线   <code>[0-9A-z_]</code></td></tr> <tr><td>\W</td> <td>除了字符、数字、下划线   <code>[^0-9A-z_]</code></td></tr> <tr><td>\d</td> <td>任意数字  <code>[0-9]</code></td></tr> <tr><td>\D</td> <td>除了数字  <code>[^0-9]</code></td></tr> <tr><td>\s</td> <td>空格</td></tr> <tr><td>\S</td> <td>除了空格</td></tr> <tr><td><strong>\b</strong></td> <td>单词边界，用于独立单词。/\bchild\b/</td></tr> <tr><td>\B</td> <td>非单词边界。</td></tr> <tr><td>\0</td> <td>查找 NUL 字符。</td></tr> <tr><td>\n</td> <td>查找换行符。</td></tr> <tr><td>\f</td> <td>查找换页符。</td></tr> <tr><td>\r</td> <td>查找回车符。</td></tr> <tr><td>\t</td> <td>查找制表符。</td></tr> <tr><td>\v</td> <td>查找垂直制表符。</td></tr> <tr><td>\xxx</td> <td>查找以八进制数 xxx 规定的字符。</td></tr> <tr><td>\xdd</td> <td>查找以十六进制数 dd 规定的字符。</td></tr> <tr><td>\uxxxx</td> <td>查找以十六进制数 xxxx 规定的 Unicode 字符。</td></tr></tbody></table> <ul><li>转义字符
<ul><li>字面量传递的是值</li> <li>构造函数传递的是字符串，所以要输入转义字符</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\\\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/\\/</span><span class="token punctuation">;</span>				
</code></pre></div><ul><li>手机号码验证</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> phoneStr <span class="token operator">=</span> <span class="token string">'13546463434'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> phoneReg <span class="token operator">=</span> <span class="token regex">/^1[3-9][0-9]{9}$/</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>phoneReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>phoneStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>去除字符串首尾空格</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'          hell   o       '</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> strReg <span class="token operator">=</span> <span class="token regex">/^\s*|\s*$/g</span><span class="token punctuation">;</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>strReg<span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//'hell   o'</span>
</code></pre></div><ul><li>电子邮件验证</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//样例：2314ihorhe.saf@qrf.com.cn</span>
<span class="token comment">//任意字母、数字、.、下划线		\w{3,}(\.\w+)*</span>
<span class="token comment">//@							@</span>
<span class="token comment">//任意字母、数字				[A-z\d]+</span>
<span class="token comment">//.任意字母（2-5位）			</span>
<span class="token comment">//.任意字母（2-5位）			(\.[A-z]{2,5}){1,2}</span>

<span class="token keyword">var</span> emailReg <span class="token operator">=</span> <span class="token regex">/^\w{3,}(\.\w+)*@[A-z\d]+(\.[A-z]{2,5}){1,2}$/</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> email <span class="token operator">=</span> <span class="token string">'1161727366@qq.com'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>emailReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>
</code></pre></div><hr> <h2 id="_8-dom-文档对象模型"><a href="#_8-dom-文档对象模型" class="header-anchor">#</a> 8. DOM 文档对象模型</h2> <ul><li><p>DOM：Document Object Model 文档对象模型</p> <ul><li>文档：浏览器页面</li> <li>对象：网页中的每一个部分都转换成了对象</li> <li>模型：使用模型来表示对象之间的关系，方便获取对象</li></ul></li> <li><p>节点 Node ：构成HTML文档最基本的单元</p> <ul><li>文档节点：整个HTML文档</li> <li>元素节点：HTML文档中的HTML标签</li> <li>属性节点：元素的属性</li> <li>文本节点：HTML标签中的文本内容</li></ul></li> <li><p>节点属性：</p></li></ul> <table><thead><tr><th>节点类型</th> <th>nodeName</th> <th>nodeType</th> <th>nodeValue</th></tr></thead> <tbody><tr><td>文档节点</td> <td>#document</td> <td>9</td> <td>null</td></tr> <tr><td>元素节点</td> <td>标签名</td> <td>1</td> <td>null</td></tr> <tr><td>属性节点</td> <td>属性名</td> <td>2</td> <td>属性值</td></tr> <tr><td>文本节点</td> <td>#text</td> <td>3</td> <td><strong>文本内容</strong></td></tr></tbody></table> <ul><li>事件：
*</li></ul> <p>浏览器加载页面的顺序：</p> <p>按照字上向下进行加载的，读取一行运行一行（解释型）</p> <p>在代码执行时，页面还没有加载，DOM对象也没有加载，会导致无法获取到DOM对象</p> <p>onload事件会在整个页面加载完成后触发</p> <p>为window绑定一个onload事件</p> <p>该事件对应的响应函数将会在页面加载完成之后执行</p> <p>这样可以确保我们的代码执行时所有的DOM对象已经加载完毕了</p> <p>先加载不执行，会小幅劣化性能，但方便管理</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-2-dom查询"><a href="#_8-2-dom查询" class="header-anchor">#</a> 8.2 DOM查询</h4> <h5 id="_1）获取元素节点"><a href="#_1）获取元素节点" class="header-anchor">#</a> 1）获取元素节点</h5> <p>在document对象里调用来获取元素节点</p> <ul><li><p>通过document对象调用</p></li> <li><p>getElementById( )：通过 <strong>id</strong> 属性获取 <strong>一个</strong> 元素节点对象</p></li> <li><p>getElementsByTagName( )：通过 <strong>标签名</strong> 获取 <strong>一组</strong> 元素节点对象</p></li> <li><p>getElementsByName( )：通过 <strong>name</strong> 属性获取 <strong>一组</strong> 元素节点对象</p></li> <li><p>getElementById( )</p> <ul><li>返回一个元素节点对象</li> <li>通过  <strong>innerHTML</strong>  属性访问内容(包含标签)</li> <li>**innerText **与innerHTML类似，不同的是会去掉html标签</li> <li><strong>innerHTML</strong> 对于单标签和结束标签没有意义</li> <li>如果读取元素节点属性，直接使用  <strong>元素.属性名</strong>（class除外）</li> <li>读取class  要用  <strong>元素.className</strong></li></ul></li> <li><p>getElementsByName( )</p></li></ul> <hr> <h5 id="_2）获取元素节点的子节点"><a href="#_2）获取元素节点的子节点" class="header-anchor">#</a> 2）获取元素节点的子节点</h5> <p>在目标元素节点里调用来获取子元素节点</p> <ul><li><p><strong>getElementsByTagName( )</strong></p> <ul><li><p><strong>方法</strong>，返回当前节点的指定标签名后代节点</p></li> <li><p>返回一组元素节点对象</p></li> <li><p>以  <strong>类数组</strong>  对象方式返回，所有元素会封装到对象中</p></li> <li><p>即使只有一个也会封装到数组中</p></li></ul></li> <li><p><strong>childNodes</strong></p> <ul><li><strong>属性</strong>，表示当前节点的所有子节点</li> <li>会获取包括文本节点在内的所有节点（包括标签间的空白）</li> <li><strong>注意：IE8及以下的浏览器中不会将空白文本当成子节点</strong></li></ul></li> <li><p><strong>children</strong></p> <ul><li>属性，获取当前元素的所有子元素</li> <li><strong>和IE8及以下浏览器的childNodes等效</strong></li></ul></li> <li><p><strong>firstChild</strong></p> <ul><li><strong>属性</strong>，表示当前节点的第一个子节点</li> <li>获取当前元素的 <strong>第一个</strong> 子节点（包括空白文本节点）</li></ul></li> <li><p><strong>firstElementchild</strong></p> <ul><li>属性，获取当前元素的第一个子元素</li> <li><strong>不推荐，IE8及以下浏览器不支持</strong></li></ul></li> <li><p><strong>lastChild</strong></p> <ul><li><strong>属性</strong>，表示当前节点的最后一个子节点</li> <li>获取当前元素的 <strong>最后一个</strong> 子节点（包括空白文本节点）</li></ul></li></ul> <hr> <h5 id="_3）获取元素节点的父节点和兄弟结点"><a href="#_3）获取元素节点的父节点和兄弟结点" class="header-anchor">#</a> 3）获取元素节点的父节点和兄弟结点</h5> <p>在目标元素节点里调用来获取子元素节点</p> <ul><li>parentNode
<ul><li>属性，表示当前节点的 <strong>父节点</strong></li></ul></li> <li>previousSibling
<ul><li>属性，表示当前节点的 <strong>前一个兄弟节点</strong>（可能为空白文本）</li></ul></li> <li>previousElementSibling
<ul><li>属性，表示当前节点的 <strong>前一个兄弟元素节点</strong></li> <li><strong>不推荐，IE8及以下浏览器不支持</strong></li></ul></li> <li>nextSibling
<ul><li>属性，表示当前节点的 <strong>后一个兄弟节点</strong>（可能为空白文本）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//反选</span>
items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">;</span>
</code></pre></div><ul><li>获取body标签</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementByTagName</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//等效</span>
</code></pre></div><ul><li>获取html标签</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
<span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementByTagName</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//等效</span>
</code></pre></div><ul><li>获取所有元素
<ul><li>返回undefined</li> <li>但是其实是类数组，有length属性</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> all <span class="token operator">=</span> document<span class="token punctuation">.</span>all<span class="token punctuation">;</span>
<span class="token keyword">var</span> all <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//等效</span>
</code></pre></div><ul><li>根据class属性值查找元素节点
<ul><li>仅支持IE9及以上</li> <li>一般不推荐使用</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>选择器查找元素节点（重点）
<ul><li>可以根据css选择器来进行查询元素节点对象</li> <li>支持IE8</li> <li><strong>querySelector</strong> 仅支持返回一个元素节点，若有多个则只返回第一个</li> <li><strong>querySelectorAll</strong> 返回的是一个 <strong>数组</strong> ，支持多个对象节点</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.class div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_8-3-dom-增删改"><a href="#_8-3-dom-增删改" class="header-anchor">#</a> 8.3 DOM 增删改</h4> <h5 id="_1）创建元素节点"><a href="#_1）创建元素节点" class="header-anchor">#</a> 1）创建元素节点</h5> <ul><li>document.createElement( )
<ul><li>可以创建一个元素节点对象</li> <li>需要一个标签名作为参数，根据参数创建对应的元素节点对象</li> <li>并将创建好的对象作为返回值返回</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_2）创建文本节点"><a href="#_2）创建文本节点" class="header-anchor">#</a> 2）创建文本节点</h5> <ul><li>document.createTextNode( )
<ul><li>可以用于创建一个文本节点对象</li> <li>需要一个文本内容作为参数，根据内容创建文本节点</li> <li>并将文本节点返回</li> <li><strong>可以用 innerHTML 代替</strong>（更方便）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">'文本'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_3）向父节点增删子节点"><a href="#_3）向父节点增删子节点" class="header-anchor">#</a> 3）向父节点增删子节点</h5> <ul><li>appendChild( )
<ul><li>向一个父节点中添加一个新的子节点</li> <li><strong>新节点在最后插入</strong></li> <li>用法：父节点.appendChild(子节点)</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> city <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'city'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
city<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
li<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li>insertBefore( )
<ul><li>向一个父节点中的指定子节点前添加一个新的子节点</li> <li>有两个参数：(新子节点，指定子节点)</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> city <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'city'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> beijing <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'beijing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
city<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>li<span class="token punctuation">,</span>beijing<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li>replaceChild( )
<ul><li>向一个父节点中用一个新的子节点替换指定的子节点</li> <li>有两个参数：（新子节点，指定子节点）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>city<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>li<span class="token punctuation">,</span>beijing<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li>removeChild( )
<ul><li>删除父节点中的指定子节点</li> <li>知道子节点id可以通过parentNode获取父节点，再调用removeChild函数（更方便）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>city<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>beijing<span class="token punctuation">)</span><span class="token punctuation">;</span>
beijing<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>beijing<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//更省事</span>
</code></pre></div><hr> <ul><li>innerHTML
<ul><li>可以通过innerHTML得到在末尾添加新子节点的效果</li> <li>会修改整个父标签的子元素，动作太大</li> <li>之前的子元素若绑定事件会被清除</li> <li><strong>不推荐使用</strong></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>city<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'&lt;li&gt;北京&lt;/li&gt;'</span>
</code></pre></div><ul><li>a标签不跳转
<ul><li>在onclick属性下，点击之后还是会执行跳转</li> <li>要不跳转可以在回调函数中返回false</li></ul></li></ul> <h4 id="_8-4-dom修改css样式"><a href="#_8-4-dom修改css样式" class="header-anchor">#</a> 8.4 DOM修改css样式</h4> <h5 id="_1）style-属性"><a href="#_1）style-属性" class="header-anchor">#</a> 1）style 属性</h5> <ul><li><p>语法：</p> <ul><li>元素.style.样式名 = '样式值'</li> <li>样式值是 <strong>字符串</strong></li></ul></li> <li><p>注意：</p> <ul><li>css中有减号 - 的样式名在js中是不合法的</li> <li>如 background-color</li> <li>要将这种样式名变成驼峰命名法，去掉减号</li> <li><strong>通过style属性修改和读取的都是行内样式表</strong></li> <li>如果在样式中写了 <strong>!important</strong> ，则此时的样式有最高的优先级，即使通过js修改也不能覆盖样式</li></ul></li></ul> <hr> <h5 id="_2）currentstyle属性"><a href="#_2）currentstyle属性" class="header-anchor">#</a> 2）currentStyle属性</h5> <ul><li>读取当前生效的样式值</li> <li>只能获取值，不能显示auto</li> <li><strong>只有IE浏览器支持</strong></li></ul> <hr> <h5 id="_3）getcomputedstyle-方法"><a href="#_3）getcomputedstyle-方法" class="header-anchor">#</a> 3）getComputedStyle( )方法</h5> <ul><li><p>用途：</p> <ul><li>与currentStyle作用一样，其他浏览器可以使用</li> <li>返回一个对象，封装当前元素的对应样式</li> <li>可以显示auto</li></ul></li> <li><p>注意：</p> <ul><li>该方法是window的方法，可以直接使用</li> <li>有两个参数（要获取样式的元素，传递的伪元素）</li> <li>伪元素一般为null</li> <li>如果获取的样式没有设置，则返回真实的值</li> <li><strong>不支持IE8及以下的浏览器</strong></li> <li>currentStyle和getComputedStyle()获取的样式都是只读的，不能修改</li></ul></li> <li><p>兼容判断：</p></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//正常浏览器</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>box1<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//IE8</span>
<span class="token function">alert</span><span class="token punctuation">(</span>box1<span class="token punctuation">.</span>currentStyle<span class="token punctuation">.</span>background<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//封装</span>
<span class="token comment">//注意getComputedStyle要加上window对象，否则会在全局中找对应的变量</span>
<span class="token comment">//优先使用getComputedStyle()来进行判断</span>
<span class="token keyword">function</span> <span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span>name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>getComputedStyle<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> obj<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>去除返回值的px
<ul><li>可以用parseInt()来去掉px单位</li> <li>得到的数据类型还是字符串</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//100</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//string</span>
</code></pre></div><hr> <h5 id="_4）其他相关属性"><a href="#_4）其他相关属性" class="header-anchor">#</a> 4）其他相关属性</h5> <ul><li>注意：
<ul><li>这些属性都是只读的</li> <li>都是 <strong>指定元素的属性</strong></li> <li>返回的属性值都没有px单位</li> <li>只能通过style属性修改行内样式</li> <li>offset: 相对偏移</li></ul></li></ul> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>clientWidth</td> <td>元素可见宽度，包括内容区和内边距，<strong>不包括边框</strong></td></tr> <tr><td>clientHeight</td> <td>元素可见高度，包括内容区和内边距，<strong>不包括边框</strong></td></tr> <tr><td>offsetWidth</td> <td>元素整个宽度，包括内容区、内边距和边框</td></tr> <tr><td>offsetHeight</td> <td>元素整个高度，包括内容区、内边距和边框</td></tr> <tr><td>offsetParent</td> <td>定位父元素，会获取到当前元素最近的开启了定位（position）的祖先元素。如果所有的祖先元素都没开启定位，则返回body</td></tr> <tr><td>offsetLeft</td> <td>当前元素对于其定位父元素（offsetParent）的水平偏移量</td></tr> <tr><td>offsetTop</td> <td>当前元素对于其定位父元素（offsetParent）的垂直偏移量</td></tr> <tr><td>scrollWidth</td> <td>获取元素滚动区域的宽度（父元素引用）</td></tr> <tr><td>scrollHeight</td> <td>获取元素滚动区域的高度（父元素引用）</td></tr> <tr><td>scrollLeft</td> <td>获取水平滚动条滚动的距离</td></tr> <tr><td>scrollTop</td> <td>获取垂直滚动条滚动的距离</td></tr></tbody></table> <ul><li>注意：
<ul><li>clientHight有滚动条时，会等于宽度 - 滚动条显示高度</li> <li>当 scrollHight - scrollTop == clientHight 时
<ul><li>垂直滚动条拖到了底部</li></ul></li> <li>当 scrollWidth - scrollLeft == clientWidth 时
<ul><li>水平滚动条拖到了最右边</li></ul></li> <li>disabled属性
<ul><li>true	不可用</li> <li>false   可用</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//阅读协议注册</span>
<span class="token comment">//要求读完协议才能进行注册</span>
<span class="token comment">//onscroll事件   disabled属性</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'xieyi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> checkbox <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'check'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tijiao <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'tijiao'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    box<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>scrollHeight<span class="token operator">-</span>box<span class="token punctuation">.</span>scrollTop <span class="token operator">==</span> box<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">{</span>
        	checkbox<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            tijiao<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-5-事件对象（event）"><a href="#_8-5-事件对象（event）" class="header-anchor">#</a> 8.5 事件对象（Event）</h4> <p>当事件的响应函数触发时，浏览器每次都会将一个事件对象作为实参传递进响应函数，事件对象中封装了当前事件相关的一切信息，比如：鼠标的坐标、键盘的哪个键被按下等等</p> <ul><li><p>注意：</p> <ul><li><strong>IE8</strong>及以下的浏览器中，响应函数触发时不会传递事件对象</li> <li>事件对象作为window对象的属性保存</li> <li>但该方法火狐浏览器不兼容</li></ul></li> <li><p>兼容性问题</p></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>a<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//写法一：</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
		event <span class="token operator">=</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//写法二：</span>
    event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    
    <span class="token keyword">var</span> x <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_1）闭包（事件绑定与监听）"><a href="#_1）闭包（事件绑定与监听）" class="header-anchor">#</a> 1）闭包（事件绑定与监听）</h5> <ul><li>for循环绑定单击响应函数问题
<ul><li>当用for循环绑定响应函数时，会先执行循环，再执行单击响应函数</li> <li>导致所有节点绑定的都是 i 为最大值的同一个函数</li></ul></li> <li>解决方法：
<ul><li>1.为每个节点保存各自的索引
<ul><li>具体为添加各自的索引属性（作为标记）</li> <li>用 this.num 来按顺序进行绑定</li></ul></li> <li>2.闭包
*</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num <span class="token operator">=</span> i<span class="token punctuation">;</span>
    a<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    
</code></pre></div><ul><li>触发属性</li></ul> <table><thead><tr><th>触发属性</th> <th>描述</th></tr></thead> <tbody><tr><td>onmousemove</td> <td>鼠标在绑定元素上移动时触发</td></tr></tbody></table> <ul><li>属性</li></ul> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>clientX</td> <td>鼠标在绑定元素在可见窗口上的X坐标</td></tr> <tr><td>clientY</td> <td>鼠标在绑定元素在可见窗口上的Y坐标</td></tr> <tr><td>pageX</td> <td>鼠标相对于页面的X坐标（IE8不支持）</td></tr> <tr><td>pageY</td> <td>鼠标相对于页面的Y坐标（IE8不支持）</td></tr></tbody></table> <ul><li>div跟随鼠标移动
<ul><li>chrome认为浏览器的滚动条是body的，可以用document.body.scrollTop</li> <li>火狐和IE认为浏览器的滚动条是html的，可以用document.documentElement.scrollTop</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY <span class="token punctuation">;</span>
    <span class="token keyword">var</span> s <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
        
    box1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> y <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    box1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="8"><li>6事件的传播</li></ol> <ul><li>1.捕获阶段
<ul><li>从最外层的祖先元素，向目标元素进行事件的捕获</li> <li>但默认此时 <strong>不会触发事件</strong></li></ul></li> <li>2.目标阶段
<ul><li>事件捕获到目标元素</li> <li>捕获结束开始在目标元素上触发事件</li></ul></li> <li>3.冒泡阶段
<ul><li>事件从目标元素向他的祖先元素传递，依次触发祖先元素上的事件</li></ul></li></ul> <p>8.5 事件的冒泡（由里向外）</p> <p>冒泡指事件的向上传导，当后代元素的事件被触发时，祖先的 <strong>相同事件</strong> 也会被触发</p> <ul><li><p>注意：</p> <ul><li>开发时大部分冒泡都有益，比如div盒子跟随移动案例</li></ul></li> <li><p>取消事件冒泡</p> <ul><li>event.cancelBubble</li> <li>属性值：true 、false</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>a<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我是a的响应函数'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>8.6 事件的捕获（由外向里）</p> <p>如果希望在捕获阶段就触发事件，则可以在addEventListener( )方法的第三个参数中传递true</p> <ul><li>注意：
<ul><li>一般不会希望在捕获阶段就触发事件</li> <li>addEventListener的第三个参数一般都为false</li> <li>IE8及以下的浏览器不支持，没有捕获阶段</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>8.7 事件的委派</p> <p>我们希望可以只绑定一次事件，即可应用到多个元素上，即使是后来添加的</p> <ul><li><p>事件的委派</p> <ul><li>利用事件冒泡的原理给元素的共同祖先元素绑定共同事件</li> <li>后代元素上的事件触发时，会一直冒泡到祖先元素</li> <li>从而通过祖先元素的响应元素来处理事件</li> <li>可以通过事件的委派来提升程序的性能</li></ul></li> <li><p>注意：</p> <ul><li>绑定的祖先元素的任意子元素都可以触发事件</li> <li>可以通过event.target属性 获取触发事件的子元素</li> <li>事件的 <strong>target</strong> 属性返回触发事件的元素</li> <li>通过给希望触发事件的子元素给予class属性来判别触发元素</li> <li>隐患：类名多的元素不能触发父元素绑定的事件</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ul<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>className <span class="token operator">==</span> <span class="token string">'mubiao'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我是ul的单击响应函数'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>8.7 多事件的绑定</p> <p>元素在绑定事件后，要绑定另一个事件则会进行覆盖，这时需要另一个方法来添加绑定事件</p> <ul><li>addEventListener( )
<ul><li>通过该方法也可以为元素绑定响应函数</li> <li>当事件触发时，按事件的绑定顺序进行执行</li> <li><strong>this 指向绑定的对象节点</strong></li> <li><strong>IE8及以下浏览器不支持</strong></li> <li>参数：
<ul><li>1.事件的字符串，不用on</li> <li>2.回调函数，当事件触发时就会被调用</li> <li>3.是否在捕获阶段触发事件，需要一个布尔值，一般为false</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>attachEvent( )
<ul><li>IE8支持的添加绑定事件的方法</li> <li>当事件触发时，事件后绑定的先执行**（倒序）**</li> <li><strong>this 指向 window 对象</strong></li> <li>参数：
<ul><li>1.事件的字符串，不加on</li> <li>2.回调函数</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>btn<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>兼容问题
<ul><li>绑定多事件的执行顺序一般不重要，只要执行了就行</li> <li>有顺序要求的一般只用一个绑定响应事件</li> <li>this参数用call( )方法实现统一
<ul><li>call( )方法参数：
<ul><li>调用函数的对象</li> <li>函数所需的其他参数</li></ul></li> <li>实现将this指向指定的对象</li> <li>在匿名函数中调用callBack.call</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> eventStr<span class="token punctuation">,</span> callBack</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>addEventListener<span class="token punctuation">{</span>
       obj<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>evenStr<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span>eventStr<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">callBack</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>    <span class="token comment">//指定this</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>8.8 拖拽案例</p> <ul><li><p>问题：</p> <ul><li>事件绑定哪个元素</li> <li>计算鼠标相对位置</li> <li>解除事件</li> <li>浏览器默认拖拽功能冲突</li></ul></li> <li><p>流程</p> <ul><li>按住元素时开始拖拽</li> <li>鼠标移动时，元素跟着动</li> <li>鼠标松开时，元素停止</li></ul></li> <li><p>触发事件</p> <ul><li>onmousedown：鼠标按下
<ul><li>绑定box</li> <li>鼠标相对位置：event.clientX - box.offsetLeft</li></ul></li> <li>onmousemove：鼠标移动
<ul><li>绑定document</li></ul></li> <li>onmouseup：鼠标松开
<ul><li>绑定document，绑定box当在其他元素上松手时将不执行</li> <li>解除移动事件，null</li> <li>解除松开事件，null</li></ul></li></ul></li> <li><p>注意：</p> <ul><li>拖拽网页内容时，会自动去搜索引擎搜索内容</li> <li>此时会导致拖拽功能异常</li> <li>可以通过return false 来取消默认行为</li> <li><strong>IE8不起作用</strong> <ul><li>元素节点.setCapture( )方法
<ul><li>只有IE支持</li></ul></li> <li>将所有相关事件触发都捕获让自己触发</li> <li>只捕获一次
<ul><li>当鼠标点击时：设置元素节点捕获</li> <li>当鼠标放开时：删除元素节点捕获（releaseCapture）</li></ul></li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//box.setCapture有则执行函数，没有则不执行</span>
box<span class="token punctuation">.</span>setCapture <span class="token operator">&amp;&amp;</span> box<span class="token punctuation">.</span><span class="token function">setCapture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>封装的拖拽函数</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">drag</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//点击响应函数（obj）</span>
	obj<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
        <span class="token comment">//计算鼠标相对偏移</span>
		<span class="token keyword">var</span> objxx <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token operator">-</span> obj<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
		<span class="token keyword">var</span> objyy <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY <span class="token operator">-</span> obj<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
        
        <span class="token comment">//移动响应函数（document）</span>
		document<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//IE8兼容，拖拽搜索问题</span>
			obj<span class="token punctuation">.</span>setCapture <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">setCapture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
        	<span class="token keyword">var</span> x <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
			<span class="token keyword">var</span> y <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
			obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> y <span class="token operator">-</span> objyy <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
			obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> x <span class="token operator">-</span> objxx  <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
            
            <span class="token comment">//松开响应函数（obj）</span>
			document<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//清除绑定事件</span>
				document<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
				document<span class="token punctuation">.</span>onmouseup <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token comment">//拖拽搜索问题，消除默认事件</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>  
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>8.9 滚轮事件</p> <ul><li>onmousewheel滚轮事件
<ul><li>火狐不支持该事件</li> <li>火狐中要使用DOMMouseScroll</li> <li>DOMMouseScroll必须用addEventListener方法来添加</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function-variable function">onmousewheel</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMMouseScrool'</span><span class="token punctuation">,</span>box<span class="token punctuation">.</span>onmousewheel<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>event.wheelDelta属性
<ul><li>判断滚轮方向</li> <li>数值不重要，正负符号重要
<ul><li>正：向上滚动</li> <li>负：向下滚动</li></ul></li> <li>火狐浏览器不支持，返回undefined
<ul><li>使用event.detail来获取方向
<ul><li>正：向下滚动</li> <li>负：向上滚动</li></ul></li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>wheelDelta <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">||</span> event<span class="token punctuation">.</span>detail <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'向上滚'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'向下滚'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>注意：
<ul><li>如果滚动时浏览器有滚动条，则页面也会一起滚动</li> <li>要用 return false 来取消默认行为</li> <li>使用addEventListener( )方法绑定的事件不能用return false 来取消默认行为
<ul><li>要用evnet.preventDefault( )方法来取消默认行为</li> <li>IE8不支持</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>event<span class="token punctuation">.</span>preventDefault <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>8.10 键盘事件</p> <p>键盘对象一般只能绑定到 <strong>可以获得焦点</strong> 的对象，或document</p> <ul><li><p>onkeydown</p> <ul><li>按键被按下</li> <li>按住不放的话事件会一直触发</li> <li>连续触发时，第一次和第二次之间会间隔长一点（防止误操作）</li></ul></li> <li><p>onkeyup</p> <ul><li>按键被松开</li></ul></li> <li><p>event.keyCode属性</p> <ul><li>可以返回按下按键的字母代表的ASCII码</li></ul></li> <li><p>功能键属性</p> <ul><li>判断功能按键是否被按下，是返回true，否返回false</li> <li>ctrlKey</li> <li>altKey</li> <li>shiftKey</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//组合按键</span>
document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">89</span> <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我按了ctrl + y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>注意：
<ul><li>在文本框中输入内容属于onkeydown的默认行为</li> <li>取消默认行为后，输入的内容不会出现在文本框中</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//禁止输入数字</span>
<span class="token comment">//数字ASCII码： 48 - 57</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>keyCode <span class="token operator">&gt;=</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span>keyCode <span class="token operator">&lt;=</span> <span class="token number">57</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>盒子移动控制：
<ul><li>通过上下左右按键来控制盒子的移动</li> <li>由于连续触发的误操作控制，盒子开始移动时有卡顿
<ul><li>可以只用onkeydown事件来控制移动方向</li> <li>用setInterval( )定时器来控制移动速度</li></ul></li></ul></li></ul> <h2 id="_9-bom-浏览器对象模型"><a href="#_9-bom-浏览器对象模型" class="header-anchor">#</a> 9. BOM 浏览器对象模型</h2> <ul><li>BOM
<ul><li>浏览器对象模型</li> <li>可以使我们用JS来操作浏览器</li> <li>BOM中提供了一组对象，用来完成浏览器的操作</li></ul></li></ul> <hr> <ul><li>浏览器对象
<ul><li>Window
<ul><li>代表整个浏览器的窗口，同时也是网页中的全局对象</li></ul></li> <li>Navigator
<ul><li>代表当前浏览器的信息，通过该对象可以识别不同的浏览器</li></ul></li> <li>Location
<ul><li>代表当前浏览器的地址栏信息</li></ul></li> <li>History</li> <li>Screen</li></ul></li></ul> <hr> <h4 id="_8-3-history对象（工具类）"><a href="#_8-3-history对象（工具类）" class="header-anchor">#</a> 8.3 History对象（工具类）</h4> <ul><li>作用：
<ul><li>可以操作浏览器向前向后翻页</li> <li>直接打印 history，返回History对象</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li>length属性
<ul><li>可以获取到当次访问过链接的数量</li></ul></li></ul> <hr> <ul><li>back( )方法
<ul><li>可以回到之前访问的页面，和回退按钮作用一样</li> <li>语法： history.back( );</li></ul></li></ul> <hr> <ul><li>forward( )方法
<ul><li>可以跳转下一个页面，和前进按钮作用一样</li></ul></li></ul> <hr> <ul><li>go( )方法
<ul><li>可以跳转到指定的页面</li> <li>需要一个整数做参数
<ul><li>1：向前跳转1个页面，相当于forward( )</li> <li>2：向前跳转2个页面</li> <li>-1：向后跳转1个页面，相当于back( )</li> <li>-2：向后跳转2个页面</li></ul></li> <li>比 back 和 go 方法灵活</li></ul></li></ul> <h4 id="_8-4-location对象"><a href="#_8-4-location对象" class="header-anchor">#</a> 8.4 Location对象</h4> <ul><li><p>作用：</p> <ul><li>该对象中封装了浏览器地址栏的信息</li> <li>直接打印 location，得到的是当前页面的完整路径</li> <li>直接修改 location 可以跳转路径</li></ul></li> <li><p>href 属性</p> <ul><li>当前页面的完整路径</li></ul></li> <li><p>assign( )方法</p> <ul><li>加载新文档</li> <li>和直接修改 location 没有区别</li></ul></li> <li><p>reload( )方法</p> <ul><li>重新加载当前页面</li> <li>作用和刷新按钮一样</li> <li>如果传递参数true，则会强制清空缓存刷新页面</li></ul></li> <li><p>replace( )方法</p> <ul><li>使用新页面替换当前页面，并跳转</li> <li><strong>不会生成历史记录</strong></li></ul></li></ul> <h4 id="_8-5-window对象"><a href="#_8-5-window对象" class="header-anchor">#</a> 8.5 Window对象</h4> <ul><li><p><strong>注意：</strong></p> <ul><li>在全局作用域中有一个全局对象 window</li> <li>由浏览器创建，我们可以直接使用</li> <li>在全局作用域中，创建的变量都会作为window对象的属性保存</li></ul></li> <li><p><strong>this 参数：</strong></p> <ul><li>解析器在调用函数时每次都会向函数内部传递一个隐藏的参数this</li> <li>this 指向的是一个对象</li> <li>该对象称为函数执行的上下文对象</li> <li>根据函数调用方式的不同，this会指向不同的对象
<ul><li>以函数的方式调用，this指向window</li> <li>以方法的方式调用，this指向那个对象</li> <li>本质上，this指向调用方法（函数）的那个对象</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    sayHi<span class="token operator">:</span> fun
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//Object   obj指向的对象</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				<span class="token comment">//window</span>
</code></pre></div><hr> <h5 id="_1）confirm-方法"><a href="#_1）confirm-方法" class="header-anchor">#</a> 1）confirm()方法</h5> <ul><li>作用：
<ul><li>弹出提示框，带有确认和取消按钮</li></ul></li> <li>参数：
<ul><li>需要一个字符串作为参数，作为提示文字</li> <li>确认时返回true</li> <li>取消时返回false</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> info <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'确定删除吗'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h5 id="_2）setinterval-方法"><a href="#_2）setinterval-方法" class="header-anchor">#</a> 2）setInterval( )方法</h5> <ul><li>作用：
<ul><li>相当于一个定时执行的for循环</li> <li>可以用于定时轮换</li></ul></li> <li>参数：
<ul><li>1.回调函数</li> <li>2.执行间隔（毫秒）</li></ul></li> <li>返回值：
<ul><li>返回一个Number类型数据</li> <li>作为定时器的唯一标识</li></ul></li> <li>注意：
<ul><li>每次设置定时器前需要关闭定时器</li> <li>否则每次触发都会生成一个定时器</li> <li>定时器会覆盖，前面的定时器将无法关闭，造成加速效果</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timer<span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'现在进行了'</span><span class="token operator">+</span> i <span class="token operator">+</span><span class="token string">'秒'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>循环切换</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	index <span class="token operator">++</span><span class="token punctuation">;</span>
    index <span class="token operator">%=</span> imgArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">-</span> imgArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h5 id="_3）clearinterval-方法"><a href="#_3）clearinterval-方法" class="header-anchor">#</a> 3）clearInterval( )方法</h5> <ul><li>作用：
<ul><li>关闭定时器</li></ul></li> <li>参数：
<ul><li>定时器的标识</li> <li>方法可以接受任何参数，参数有效时关闭定时器，无效时不报错</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h5 id="_4）settimeout-方法"><a href="#_4）settimeout-方法" class="header-anchor">#</a> 4）setTimeout( )方法</h5> <ul><li>作用：
<ul><li>延时调用</li> <li>过一段时间再执行代码</li> <li>只执行一次</li></ul></li> <li>参数：
<ul><li>回调函数</li> <li>延时（毫秒）</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>clearTimeout( )方法
<ul><li>作用：
<ul><li>关闭延时调用</li></ul></li></ul></li></ul> <hr> <p>8.6 类的操作</p> <ul><li><p>style属性修改样式</p> <ul><li>每修改一个样式，浏览器就要重新渲染一次页面</li> <li>这样的执行性能是比较低的</li> <li>修改多个样式时也不方便</li> <li>不建议大量使用</li></ul></li> <li><p>需求</p> <ul><li>一行代码修改多个样式</li></ul></li> <li><p>解决方法：</p> <ul><li>修改节点的class属性来替换样式</li> <li>可以只渲染一次就完成样式修改，更好分离表现和行为</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//替换class</span>
btn<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'新class'</span><span class="token punctuation">;</span>

<span class="token comment">//添加class，注意要加空格</span>
btn<span class="token punctuation">.</span>className <span class="token operator">+=</span> <span class="token string">' 新class'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">addClass</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span><span class="token keyword">class</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    obj<span class="token punctuation">.</span>className <span class="token operator">+=</span> <span class="token string">' '</span><span class="token operator">+</span> <span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>判断是否已有className</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addClass</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span><span class="token keyword">class</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\b'</span> <span class="token operator">+</span> <span class="token keyword">class</span> <span class="token operator">+</span> <span class="token string">'\\b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       obj<span class="token punctuation">.</span>className <span class="token operator">+=</span> <span class="token string">' '</span><span class="token operator">+</span><span class="token keyword">class</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>删除className</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span><span class="token keyword">class</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\b'</span><span class="token operator">+</span><span class="token keyword">class</span><span class="token operator">+</span><span class="token string">'\\b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>className <span class="token operator">=</span> obj<span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>切换className
<ul><li>有则删除</li> <li>无则添加</li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> <span class="token keyword">class</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\b'</span> <span class="token operator">+</span> <span class="token keyword">class</span> <span class="token operator">+</span> <span class="token string">'\\b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">removeClass</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token function">addClass</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>8.6 JSON</p> <ul><li>JSON：JavaScript Object Notation ( JS对象表示法 )</li></ul> <p>JSON就是一个特殊格式的字符串，这个字符串可以被任意的语言所识别，并且可以转换为任意语言中的对象。</p> <ul><li><p>作用：</p> <ul><li>数据的交互</li></ul></li> <li><p>格式：</p> <ul><li>和 JS 对象格式一样，只是属性名要加 <strong>双引号</strong></li> <li>允许的值：
<ul><li>字符串</li> <li>数值</li> <li>布尔值</li> <li>null</li> <li>对象</li> <li>数组</li></ul></li></ul></li> <li><p>分类：</p> <ul><li>对象： ‘{ '&quot;name&quot;: &quot;卢本伟&quot;    }’</li> <li>数组： ‘[ 1, 2, 3 ]’</li></ul></li> <li><p>JSON对象</p> <ul><li>JavaScript提供了一个工具类，就叫 <strong>'JSON'</strong></li> <li>可以将 JSON 转换成 JS 对象，也可以将一个 JS 对象转换成 JSON</li> <li>IE7及以下的浏览器不支持
<ul><li>兼容方法：
<ul><li>eval( )函数   ：<strong>不推荐</strong></li> <li>引入有 JSON 对象的外部 JS 文件</li></ul></li></ul></li></ul></li> <li><p>JSON.parse( )方法</p> <ul><li>参数：JSON字符串</li> <li>作用：将其字符串转换成 JS 对象</li></ul></li> <li><p>JSON.stringify( )方法</p> <ul><li>参数：JS 对象</li> <li>作用，将一个 JS 对象转换成 JSON 字符串</li></ul></li> <li><p>eval( )函数</p> <ul><li>作用：可以执行一段字符串格式的 JS 代码，并将执行结果返回
<ul><li>兼容IE7的错误方法</li></ul></li> <li>执行的字符串中有大括号，将会将其当成代码块
<ul><li>不希望当成代码块，则需要在其前后加个括号</li></ul></li> <li>开发中应尽量少用eval( )函数
<ul><li>性能较差</li> <li>存在安全隐患</li></ul></li></ul></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'{&quot;name&quot;:&quot;卢本伟&quot;}'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lubenwei <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'('</span> <span class="token operator">+</span> str <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.4037ec45.js" defer></script><script src="/blog/assets/js/2.31f4a6aa.js" defer></script><script src="/blog/assets/js/6.6e438ed6.js" defer></script>
  </body>
</html>
